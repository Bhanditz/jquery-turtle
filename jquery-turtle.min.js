!function($){function __extends(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a}function styleSupport(a){var b,c,d=a.charAt(0).toUpperCase()+a.slice(1),e=["Moz","Webkit","O","ms"],f=document.createElement("div");if(a in f.style)c=a;else for(var g=0;g<e.length;g++)if(b=e[g]+d,b in f.style){c=b;break}return f=null,$.support[a]=c,c}function hasGetBoundingClientRect(){var a=document.createElement("div"),b="getBoundingClientRect"in a;return a=null,b}function identity(a){return a}function matrixVectorProduct(a,b){var c=[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1]];return 6==a.length&&(c[0]+=a[4],c[1]+=a[5]),c}function matrixProduct(a,b){var c=[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3]],d=6==a.length;return 6==b.length?(c.push(a[0]*b[4]+a[2]*b[5]+(d?a[4]:0)),c.push(a[1]*b[4]+a[3]*b[5]+(d?a[5]:0))):d&&(c.push(a[4]),c.push(a[5])),c}function nonzero(a){return Math.abs(a)>1e-12}function isone2x2(a){return!(nonzero(a[1])||nonzero(a[2])||nonzero(1-a[0])||nonzero(1-a[3]))}function inverse2x2(a){if(isone2x2(a))return[1,0,0,1];var b=decomposeSVD(a);return nonzero(b[2])?matrixProduct(rotation(-b[3]),matrixProduct(scale(1/b[1],1/b[2]),rotation(-b[0]))):null}function rotation(a){var b=Math.cos(a),c=Math.sin(a);return[b,c,-c,b]}function scale(a,b){return 1==arguments.length&&(a=b),[a,0,0,b]}function addVector(a,b){return[a[0]+b[0],a[1]+b[1]]}function subtractVector(a,b){return[a[0]-b[0],a[1]-b[1]]}function scaleVector(a,b){return[a[0]*b,a[1]*b]}function translatedMVP(a,b,c){return addVector(matrixVectorProduct(a,subtractVector(b,c)),c)}function decomposeSVD(a){var b,c,d=a[0]*a[0]+a[1]*a[1],e=a[0]*a[2]+a[1]*a[3],f=a[2]*a[2]+a[3]*a[3],g=-.5*Math.atan2(2*e,d-f),h=Math.cos(g),i=Math.sin(g),j=a[0]*h-a[2]*i,k=a[1]*h-a[3]*i,l=Math.atan2(k,j),m=Math.cos(l),n=Math.sin(l),o=(a[1]*i+a[3]*h)*m-(a[0]*i+a[2]*h)*n,p=(a[0]*h-a[2]*i)*m+(a[1]*h-a[3]*i)*n;return g<-Math.PI/4?(g+=Math.PI/2,c=p,b=o,l-=Math.PI/2):(b=p,c=o),l>Math.PI&&(l-=2*Math.PI),[l,b,c,g]}function approxBezierUnitArc(a,b){var c=(b-a)/2,d=Math.cos(c),e=Math.sin(c),f=d,g=-e,h=1+f*d+g*e,i=f*e-g*d,j=i&&4/3*(Math.sqrt(2*h)-h)/i,k=f-j*g,l=g+j*f,m=k,n=-l,o=c+a,p=Math.cos(o),q=Math.sin(o);return[[k*p-l*q,k*q+l*p],[m*p-n*q,m*q+n*p],[Math.cos(b),Math.sin(b)]]}function getElementTranslation(a){var b=readTurtleTransform(a,!1);if(b)return[b.tx,b.ty];var c=readTransformMatrix(a);return c?[c[4],c[5]]:[0,0]}function readTransformMatrix(a){var b=window.getComputedStyle?window.getComputedStyle(a)[transform]:$.css(a,"transform");if(!b||"none"===b)return null;var c=/^matrix\(([\-+.\de]+),\s*([\-+.\de]+),\s*([\-+.\de]+),\s*([\-+.\de]+),\s*([\-+.\de]+)(?:px)?,\s*([\-+.\de]+)(?:px)?\)$/.exec(b);return c?[parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]),parseFloat(c[4]),parseFloat(c[5]),parseFloat(c[6])]:transformStyleAsMatrix(b)}function readTransformOrigin(a,b){var c=window.getComputedStyle?window.getComputedStyle(a):null,d=c&&c[transformOrigin]||$.css(a,"transformOrigin");if(d&&d.indexOf("%")<0)return $.map(d.split(" "),parseFloat);if(b)return[b[0]/2,b[1]/2];var e=$(a);return[e.width()/2,e.height()/2]}function totalTransform2x2(a){for(var b,c=[1,0,0,1];null!==a;)b=readTransformMatrix(a),b&&!isone2x2(b)&&(c=matrixProduct(b,c)),a=a.parentElement;return c.slice(0,4)}function transformStyleAsMatrix(a){var b=[1,0,0,1],c=[],d=[],e=/(?:^\s*|)(\w*)\s*\(([^)]*)\)\s*/g,f=a.replace(e,function(a){return c.push(a[1].toLowerCase()),d.push($.map(a[2].split(","),function(a){var b=a.trim().toLowerCase();return{num:parseFloat(b),unit:b.replace(/^[+-.\de]*/,"")}})),""});if(f)return null;for(var g=c.length-1;g>=0;--g){var h,i,j,k=null,l=c[g],m=d[g];if("matrix"==l)m.length>=6&&(k=[m[0].num,m[1].num,m[2].num,m[3].num,m[4].num,m[5].num]);else if("rotate"==l)1==m.length&&(h=convertToRadians(m[0]),i=Math.cos(h),j=Math.sin(h),k=[i,-j,i,j]);else if("translate"==l||"translatex"==l||"translatey"==l){var n=0,o=0;if(m.length>=1){if(m[0].unit&&"px"!=m[0].unit)return null;if("translate"==l||"translatex"==l?n=m[0].num:"translatey"==l&&(o=m[0].num),"translate"==l&&m.length>=2){if(m[1].unit&&"px"!=m[1].unit)return null;o=m[1].num}k=[0,0,0,0,n,o]}}else if("scale"==l||"scalex"==l||"scaley"==l){var p=1,q=1;m.length>=1&&("scale"==l||"scalex"==l?p=m[0].num:"scaley"==l&&(q=m[0].num),"scale"==l&&m.length>=2&&(q=m[1].num),k=[p,0,0,q,0,0])}else{if("skew"!=l&&"skewx"!=l&&"skewy"!=l)return null;var r=0,s=0;m.length>=1&&("skew"==l||"skewx"==l?r=Math.tan(convertToRadians(m[0])):"skewy"==l&&(s=Math.tan(convertToRadians(m[0]))),"skew"==l&&m.length>=2&&(s=Math.tan(convertToRadians(m[0]))),k=[1,s,r,1,0,0])}b=matrixProduct(b,k)}return b}function limitMovement(a,b,c){if(0>=c)return a;var d=b.pageX-a.pageX,e=b.pageY-a.pageY,f=d*d+e*e;if(c*c>=f)return b;var g=c/Math.sqrt(f);return{pageX:a.pageX+g*d,pageY:a.pageY+g*e}}function limitRotation(a,b,c){if(0>=c)b=a;else if(180>c){var d=normalizeRotation(b-a);d>c?b=a+c:-c>d&&(b=a-c)}return normalizeRotation(b)}function getRoundedCenterLTWH(a,b,c,d){return{pageX:Math.floor(a+c/2),pageY:Math.floor(b+d/2)}}function getStraightRectLTWH(a,b,c,d){var e=a+c,f=b+d;return[{pageX:a,pageY:b},{pageX:a,pageY:f},{pageX:e,pageY:f},{pageX:e,pageY:b}]}function cleanedStyle(a){if(!/e[\-+]/.exec(a))return a;var b=a.replace(/(?:\d+(?:\.\d*)?|\.\d+)e[\-+]\d+/g,function(a){return cssNum(parseFloat(a))});return b}function cleanSwap(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.apply(a);for(e in b)a.style[e]=cleanedStyle(f[e]);return d}function unattached(a){for(;a;){if(9===a.nodeType)return!1;a=a.parentNode}return!0}function wh(){return window.innerHeight||$(window).height()}function ww(){return window.innerWidth||$(window).width()}function dh(){return document.body?$(document).height():document.height}function dw(){return document.body?$(document).width():document.width}function makeGbcrLTWH(a,b,c,d){return{left:a,top:b,right:a+c,bottom:b+d,width:c,height:d}}function getPageGbcr(a){return isPageCoordinate(a)?makeGbcrLTWH(a.pageX,a.pageY,0,0):$.isWindow(a)?makeGbcrLTWH($(window).scrollLeft(),$(window).scrollTop(),ww(),wh()):9===a.nodeType?makeGbcrLTWH(0,0,dw(),dh()):"getBoundingClientRect"in a?readPageGbcr.apply(a):makeGbcrLTWH(0,0,0,0)}function isGbcrOutside(a,b,c){var d=Math.max(0,Math.max(c.top-a.pageY,a.pageY-c.bottom)),e=Math.max(0,Math.max(c.left-a.pageX,a.pageX-c.right));return e*e+d*d>b}function isGbcrInside(a,b,c){var d=Math.max(c.bottom-a.pageY,a.pageY-c.top),e=Math.max(c.right-a.pageX,a.pageX-c.left);return b>e*e+d*d}function isDisjointGbcr(a,b){return b.right<a.left||a.right<b.left||b.bottom<a.top||a.bottom<b.top}function gbcrEncloses(a,b){return b.top>=a.top&&b.bottom<=a.bottom&&b.left>=a.left&&b.right<=a.right}function polyMatchesGbcr(a,b){return 4===a.length&&a[0].pageX===b.left&&a[0].pageY===b.top&&a[1].pageX===b.left&&a[1].pageY===b.bottom&&a[2].pageX===b.right&&a[2].pageY===b.bottom&&a[3].pageX===b.right&&a[3].pageY===b.top}function readPageGbcr(){var a=this.getBoundingClientRect();return 0===a.width&&0===a.height&&0===a.top&&0===a.left&&unattached(this)?{top:0,bottom:this.height||0,left:0,right:this.width||0,width:this.width||0,height:this.height||0}:{top:a.top+window.pageYOffset,bottom:a.bottom+window.pageYOffset,left:a.left+window.pageXOffset,right:a.right+window.pageXOffset,width:a.width,height:a.height}}function computeTargetAsTurtlePosition(a,b,c,d,e){var f,g,h,i,j=totalTransform2x2(a.parentElement),k=inverse2x2(j),l="none"===$.css(a,"display"),m=l?{position:"absolute",visibility:"hidden",display:"block"}:{},n=(m[transform]=k?"matrix("+$.map(k,cssNum).join(", ")+", 0, 0)":"none",cleanSwap(a,m,readPageGbcr)),o=readTransformOrigin(a,[n.width,n.height]),p=addVector([n.left,n.top],o);if(k){if($.isNumeric(c)&&(h=getElementTranslation(a),f=addVector(matrixVectorProduct(j,h),p),g={pageX:f[0],pageY:f[1]},b=limitMovement(g,b,c)),i=matrixVectorProduct(k,subtractVector([b.pageX,b.pageY],p)),d||e){var q=readTurtleTransform(a,!0),r=q?q.sy:1;i[0]+=d*r,i[1]-=e*r}return cssNum(i[0])+" "+cssNum(i[1])}}function homeContainer(a){var b=a.offsetParent;return b?b:document}function computePositionAsLocalOffset(a,b){b||(b=$(homeContainer(a)).pagexy());var c=totalTransform2x2(a.parentElement),d=inverse2x2(c),e="none"===$.css(a,"display"),f=e?{position:"absolute",visibility:"hidden",display:"block"}:{},g=(f[transform]=d?"matrix("+$.map(d,cssNum).join(", ")+", 0, 0)":"none",cleanSwap(a,f,readPageGbcr)),h=readTransformOrigin(a,[g.width,g.height]),i=addVector([g.left,g.top],h),j=readTurtleTransform(a,!0),k=d&&matrixVectorProduct(d,subtractVector([b.pageX,b.pageY],i)),l=j&&1/j.sy;if(d)return[(j.tx-k[0])*l,(k[1]-j.ty)*l]}function convertLocalXyToPageCoordinates(a,b){var c,d,e=totalTransform2x2(a.parentElement),f=readTurtleTransform(a,!0),g=$(homeContainer(a)).pagexy(),h=[];for(d=0;d<b.length;d++)c=matrixVectorProduct(e,[b[d][0]*f.sy,-b[d][1]*f.sy]),h.push({pageX:g.pageX+c[0],pageY:g.pageY+c[1]});return h}function getCenterInPageCoordinates(a){if($.isWindow(a))return getRoundedCenterLTWH($(window).scrollLeft(),$(window).scrollTop(),ww(),wh());if(9===a.nodeType||a==document.body)return getRoundedCenterLTWH(0,0,dw(),dh());var b=getElementTranslation(a),c=totalTransform2x2(a.parentElement),d=inverse2x2(c),e="none"===$.css(a,"display"),f=e?{position:"absolute",visibility:"hidden",display:"block"}:{},g=(f[transform]=d?"matrix("+$.map(d,cssNum).join(", ")+", 0, 0)":"none",a.style[transform],cleanSwap(a,f,readPageGbcr)),h=readTransformOrigin(a,[g.width,g.height]),i=addVector([g.left,g.top],h),j=addVector(matrixVectorProduct(c,b),i);return{pageX:j[0],pageY:j[1]}}function polyToVectorsOffset(a,b){if(!a)return null;for(var c=[],d=0;d<a.length;++d)c.push([a[d].pageX+b[0],a[d].pageY+b[1]]);return c}function getCornersInPageCoordinates(a,b){if($.isWindow(a))return getStraightRectLTWH($(window).scrollLeft(),$(window).scrollTop(),ww(),wh());if(9===a.nodeType)return getStraightRectLTWH(0,0,dw(),dh());var c=readTransformMatrix(a)||[1,0,0,1],d=totalTransform2x2(a.parentElement),e=matrixProduct(d,c),f=inverse2x2(d),g="none"===$.css(a,"display"),h=g?{position:"absolute",visibility:"hidden",display:"block"}:{},i=(h[transform]=f?"matrix("+$.map(f,cssNum).join(", ")+", 0, 0)":"none",cleanSwap(a,h,readPageGbcr)),j=readTransformOrigin(a,[i.width,i.height]),k=addVector([i.left,i.top],j),l=polyToVectorsOffset(getTurtleData(a).hull,k)||[[i.left,i.top],[i.left,i.bottom],[i.right,i.bottom],[i.right,i.top]];return b?$.map(l,function(a){return{pageX:a[0]-k[0],pageY:a[1]-k[1]}}):$.map(l,function(a){var b=translatedMVP(e,a,k);return{pageX:b[0],pageY:b[1]}})}function getDirectionOnPage(a){var b=readTurtleTransform(a,!0),c=convertToRadians(normalizeRotation(b.rot)),d=Math.sin(c),e=Math.cos(c),f=totalTransform2x2(a.parentElement),g=matrixVectorProduct(f,[d,e]);return dp=Math.atan2(g[0],g[1]),radiansToDegrees(dp)}function scrollWindowToDocumentPosition(a,b){var c=a.pageX,d=a.pageY,e=ww()/2,f=wh()/2,g=$("body"),h=g.width(),i=g.height(),j=$(window);c>h-e&&(c=h-e),e>c&&(c=e),d>i-f&&(d=i-f),f>d&&(d=f),targ={pageX:c,pageY:d},$.isNumeric(b)&&(targ=limitMovement(j.origin(),targ,b)),j.scrollLeft(targ.pageX-e),j.scrollTop(targ.pageY-f)}function signedTriangleArea(a,b,c){var d=b.pageX-a.pageX,e=b.pageY-a.pageY,f=c.pageX-a.pageX,g=c.pageY-a.pageY;return f*e-d*g}function signedDeltaTriangleArea(a,b,c){var d=c.pageX-a.pageX,e=c.pageY-a.pageY;return d*b.pageY-b.pageX*e}function pointInConvexPolygon(a,b){if(b.length<=0)return!1;if(1==b.length)return b[0].pageX==a.pageX&&b[0].pageY==a.pageY;var c=signedTriangleArea(a,b[b.length-1],b[0]);if(0===c)return!0;var d=c>0;if(2==b.length)return!1;for(var e=1;e<b.length;++e){var f=signedTriangleArea(a,b[e-1],b[e]);if(0===f)return!0;if(f>0!=d)return!1}return!0}function diff(a,b){return{pageX:a.pageX-b.pageX,pageY:a.pageY-b.pageY}}function edgeSeparatesPointAndPoly(a,b,c,d){var e,f,g=diff(c,b);for(e=0;e<d.length;++e)if(f=sign(signedDeltaTriangleArea(b,g,d[e])),!f||f===a)return!1;return!0}function sign(a){return a>0?1:0>a?-1:0}function convexPolygonSign(a){if(a.length<=2)return 0;var b=signedTriangleArea(a[a.length-1],a[0],a[1]);if(0!==b)return sign(b);for(var c=1;c<a.length;++c)if(b=signedTriangleArea(a[c-1],a[c],a[(c+1)%a.length]),0!==b)return sign(b);return 0}function doConvexPolygonsOverlap(a,b){var c,d=convexPolygonSign(a);for(c=0;c<a.length;++c)if(edgeSeparatesPointAndPoly(d,a[c],a[(c+1)%a.length],b))return!1;for(d=convexPolygonSign(b),c=0;c<b.length;++c)if(edgeSeparatesPointAndPoly(d,b[c],b[(c+1)%b.length],a))return!1;return!0}function doesConvexPolygonContain(a,b){for(var c=0;c<b.length;++c)if(!pointInConvexPolygon(b[c],a))return!1;return!0}function convexHull(a){function b(a,b){if(!b||!isPageCoordinate(b))return a;for(;a.length>1&&1!=sign(signedTriangleArea(a[a.length-2],a[a.length-1],b));)a.pop();return a.length&&d(a[a.length-1],b)||a.push(b),a}function c(a,b,c){for(var d=0;d<a.length;++d)b=c(b,a[d]);return b}function d(a,b){return a.pageX===b.pageX&&a.pageY===b.pageY}function e(a,b){return a.pageX<b.pageX?-1:a.pageX>b.pageX?1:a.pageY<b.pageY?-1:a.pageY>b.pageY?1:0}a.sort(e);var f=c(a,[],b),g=c(a.reverse(),[],b);return f.concat(g.slice(1,-1))}function parseTurtleHull(a){if(!a)return null;for(var b=$.map(a.trim().split(/\s+/),parseFloat),c=[],d=0;d+1<b.length;)c.push({pageX:b[d],pageY:b[d+1]}),d+=2;return c}function readTurtleHull(a){return getTurtleData(a).hull}function writeTurtleHull(a){for(var b=0,c=[];b<a.length;++b)c.push(a[b].pageX,a[b].pageY);return c.length?$.map(c,cssNum).join(" "):"none"}function makeHullHook(){return{get:function(a){var b=getTurtleData(a).hull;return writeTurtleHull(b||getCornersInPageCoordinates(a,!0))},set:function(a,b){var c=b&&"auto"!=b?"none"==b?[]:convexHull(parseTurtleHull(b)):null;getTurtleData(a).hull=c}}}function parseTurtleTransform(a){if("none"===a)return{tx:0,ty:0,rot:0,sx:1,sy:1,twi:0};var b=/^(?:translate\(([\-+.\de]+)(?:px)?,\s*([\-+.\de]+)(?:px)?\)\s*)?(?:rotate\(([\-+.\de]+)(?:deg)?\)\s*)?(?:scale\(([\-+.\de]+)(?:,\s*([\-+.\de]+))?\)\s*)?(?:rotate\(([\-+.\de]+)(?:deg)?\)\s*)?$/.exec(a);if(!b)return null;var c=b[1]?parseFloat(b[1]):0,d=b[2]?parseFloat(b[2]):0,e=b[3]?parseFloat(b[3]):0,f=b[4]?parseFloat(b[4]):1,g=b[5]?parseFloat(b[5]):f,h=b[6]?parseFloat(b[6]):0;return{tx:c,ty:d,rot:e,sx:f,sy:g,twi:h}}function computeTurtleTransform(a){var b,c=readTransformMatrix(a);return c?(b=decomposeSVD(c),{tx:c[4],ty:c[5],rot:radiansToDegrees(b[0]),sx:b[1],sy:b[2],twi:radiansToDegrees(b[3])}):{tx:0,ty:0,rot:0,sx:1,sy:1,twi:0}}function readTurtleTransform(a,b){return parseTurtleTransform(a.style[transform])||b&&computeTurtleTransform(a)}function cssNum(a){var b=a.toString();return b.indexOf("e")>=0&&(b=Number(a).toFixed(17)),b}function writeTurtleTransform(a){var b=[];return(nonzero(a.tx)||nonzero(a.ty))&&b.push("translate("+cssNum(a.tx)+"px, "+cssNum(a.ty)+"px)"),(nonzero(a.rot)||nonzero(a.twi))&&b.push("rotate("+cssNum(a.rot)+"deg)"),(nonzero(1-a.sx)||nonzero(1-a.sy))&&(nonzero(a.sx-a.sy)?b.push("scale("+cssNum(a.sx)+", "+cssNum(a.sy)+")"):b.push("scale("+cssNum(a.sx)+")")),nonzero(a.twi)&&b.push("rotate("+cssNum(a.twi)+"deg)"),b.length?b.join(" "):"none"}function radiansToDegrees(a){var b=180*a/Math.PI;return b>180&&(b-=360),b}function convertToRadians(a){return a*Math.PI/180}function normalizeRotation(a){return Math.abs(a)>180&&(a%=360,a>180?a-=360:-180>=a&&(a+=360)),a}function normalizeRotationDelta(a){return Math.abs(a)>=720&&(a=a%360+(a>0?360:-360)),a}function getTurtleField(){return drawing.field||createSurfaceAndField(),drawing.field}function getTurtleClipSurface(){return drawing.surface||createSurfaceAndField(),drawing.surface}function createSurfaceAndField(){var a=document.createElement("samp"),b=document.createElement("samp"),c=Math.floor(ww()/2),d=Math.floor(wh()/2);$(a).css({position:"absolute",display:"inline-block",top:0,left:0,width:"100%",height:"100%",zIndex:-1,font:"inherit",transformOrigin:c+"px "+d+"px",overflow:"hidden"}),$(b).attr("id","field").css({position:"absolute",display:"inline-block",top:d,left:c,width:"100%",height:"100%",font:"inherit",transformOrigin:"0px 0px"}).appendTo(a),drawing.surface=a,drawing.field=b,attachClipSurface()}function attachClipSurface(){document.body?($(drawing.surface).prependTo("body"),$("body").on("click.turtle mouseup.turtle mousedown.turtle mousemove.turtle",function(a){if(a.target===this&&!a.isTrigger){var b=$.turtle.nowarn;$.turtle.nowarn=!0;var c=$(drawing.surface).find(".turtle").within("touch",a).eq(0);if($.turtle.nowarn=b,1===c.length)return a.target=null,a.relatedTarget=null,a.fromElement=null,a.toElement=null,c.trigger(a),!1}})):$(document).ready(attachClipSurface)}function getTurtleDrawingCtx(){if(drawing.ctx)return drawing.ctx;var a=getTurtleClipSurface();return drawing.canvas=document.createElement("canvas"),$(drawing.canvas).css({"z-index":-1}),a.insertBefore(drawing.canvas,a.firstChild),drawing.ctx=drawing.canvas.getContext("2d"),resizecanvas(),pollbodysize(resizecanvas),$(window).resize(resizecanvas),drawing.ctx.scale(drawing.subpixel,drawing.subpixel),drawing.ctx}function getOffscreenCanvas(a,b){return drawing.offscreen&&drawing.offscreen.width===a&&drawing.offscreen.height===b?drawing.offscreen:(drawing.offscreen||(drawing.offscreen=document.createElement("canvas")),drawing.offscreen.width=a,drawing.offscreen.height=b,drawing.offscreen)}function pollbodysize(a){var b=$("body"),c=b.width(),d=b.height(),e=function(){(b.width()!=c||b.height()!=d)&&(a(),c=b.width(),d=b.height())};drawing.timer&&clearInterval(drawing.timer),drawing.timer=setInterval(e,250)}function resizecanvas(){if(drawing.canvas){var a,b=$("body"),c=Math.max(b.outerHeight(!0),window.innerHeight||$(window).height()),d=Math.max(200,100*Math.ceil(b.outerWidth(!0)/100)),e=Math.max(200,100*Math.ceil(c/100)),f=drawing.canvas.width,g=drawing.canvas.height;$(drawing.surface).css({width:b.outerWidth(!0)+"px",height:c+"px"}),(f!=d*drawing.subpixel||g!=e*drawing.subpixel)&&(a=document.createElement("canvas"),a.width=Math.min(f,d*drawing.subpixel),a.height=Math.min(g,e*drawing.subpixel),a.getContext("2d").drawImage(drawing.canvas,0,0),drawing.canvas.width=d*drawing.subpixel,drawing.canvas.height=e*drawing.subpixel,drawing.canvas.getContext("2d").drawImage(a,0,0),$(drawing.canvas).css({width:d,height:e}))}}function parsePenStyle(a,b){if(!a)return null;if(a=String(a),a.trim&&(a=a.trim()),!a||"none"===a)return null;if("path"===a||"fill"===a)return{savePath:!0};var c=!1;/^erase\b/.test(a)&&(a=a.replace(/^erase\b/,"white globalCompositeOperation destination-out"),c=!0);var d,e=a.split(/\s+/),f={strokeStyle:identity,lineWidth:parseFloat,lineCap:identity,lineJoin:identity,miterLimit:parseFloat,fillStyle:identity,globalCompositeOperation:identity},g={},h=e.length;for(c&&(g.eraseMode=!0),d=e.length-1;d>=0;--d)if(f.hasOwnProperty(e[d])){var i=e[d],j=e.slice(d+1,h).join(" ");g[i]=f[i](j),h=d}return h>0&&!g[b]&&(g[b]=e.slice(0,h).join(" ")),g}function writePenStyle(a){if(!a)return"none";var b=[];return $.each(a,function(a,c){b.push(a),b.push(c)}),b.join(" ")}function parsePenDown(a){return"down"==a||a===!0?!0:"up"==a||a===!1?!1:undefined}function writePenDown(a){return a?"down":"up"}function getTurtleData(a){var b=$.data(a,"turtleData");return b||(b=$.data(a,"turtleData",{style:null,path:[[]],down:!0,speed:"turtle",easing:"swing",turningRadius:0,lastSeenOrigin:null,lastSeenOriginTime:null,lastSeenOriginTimer:null,lastSeenOriginEvent:null})),b}function getTurningRadius(a){var b=$.data(a,"turtleData");return b?b.turningRadius:0}function makeTurningRadiusHook(){return{get:function(a){return cssNum(getTurningRadius(a))+"px"},set:function(a,b){var c=parseFloat(b);if(!isNaN(c)&&(getTurtleData(a).turningRadius=c,a.style.turtleTurningRadius=""+cssNum(c)+"px",0===c)){var d=readTurtleTransform(a,!1);d&&(d.rot>180||d.rot<=-180)&&(d.rot=normalizeRotation(d.rot),a.style[transform]=writeTurtleTransform(d))}}}}function makePenStyleHook(){return{get:function(a){return writePenStyle(getTurtleData(a).style)},set:function(a,b){var c=parsePenStyle(b,"strokeStyle");getTurtleData(a).style=c,a.style.turtlePenStyle=writePenStyle(c),flushPenState(a)}}}function makePenDownHook(){return{get:function(a){return writePenDown(getTurtleData(a).down)},set:function(a,b){var c=parsePenDown(b);c!==undefined&&(getTurtleData(a).down=c,a.style.turtlePenDown=writePenDown(c),flushPenState(a))}}}function isPointNearby(a,b){return 0===Math.round(a.pageX-b.pageX)&&0===Math.round(a.pageY-b.pageY)}function isBezierTiny(a,b){return isPointNearby(a,b)&&0===Math.round(a.pageX-b.pageX1)&&0===Math.round(a.pageY-b.pageY1)&&0===Math.round(b.pageX2-b.pageX)&&0===Math.round(b.pageY2-b.pageY)}function roundEpsilon(a){var b=1e3*a,c=Math.round(b);return Math.abs(c-b)<Math.abs(5e-15*b)?c/1e3:a}function applyPenStyle(a,b,c){c=c||1;var d=b.eraseMode?1:0;if(b&&"strokeStyle"in b||(a.strokeStyle="black"),b&&"lineWidth"in b||(a.lineWidth=1.62*c+d),b&&"lineCap"in b||(a.lineCap="round"),b)for(var e in b)"savePath"!==e&&"eraseMode"!==e&&(a[e]=c&&"lineWidth"===e?c*b[e]+d:b[e])}function drawAndClearPath(a,b,c){var d,e,f,g=getTurtleDrawingCtx(),h=a.length;for(g.save(),g.beginPath(),applyPenStyle(g,b,c);h--;)if(a[h].length){f=a[h],d=f.length>2&&isPointNearby(f[0],f[f.length-1]),e=d&&!("pageX2"in f[f.length-1]),g.moveTo(f[0].pageX,f[0].pageY);for(var i=1;i<f.length-(e?1:0);++i)"pageX2"in f[i]&&!isBezierTiny(f[i-1],f[i])?g.bezierCurveTo(f[i].pageX1,f[i].pageY1,f[i].pageX2,f[i].pageY2,f[i].pageX,f[i].pageY):g.lineTo(f[i].pageX,f[i].pageY);d&&g.closePath()}"fillStyle"in b&&g.fill(),"strokeStyle"in b&&g.stroke(),g.restore(),a.length=1,a[0].splice(0,a[0].length-1)}function addBezierToPath(a,b,c){a.length&&isPointNearby(b,a[a.length-1])||a.push(b);for(var d=0;d<c.length;++d)a.push({pageX1:c[d][0].pageX,pageY1:c[d][0].pageY,pageX2:c[d][1].pageX,pageY2:c[d][1].pageY,pageX:c[d][2].pageX,pageY:c[d][2].pageY})}function flushPenState(a){var b=getTurtleData(a);if(!b.style||!b.down&&!b.style.savePath)return b.path.length>1&&(b.path.length=1),b.path[0].length&&(b.path[0].length=0),void 0;if(!b.down)return b.path.length&&b.path[0].length&&b.path.shift([]),void 0;b.lastSeenOrigin&&fixOriginIfWatching(a);var c=getCenterInPageCoordinates(a);if(watchImageToFixOriginOnLoad(a),b.path[0].length&&isPointNearby(c,b.path[0][b.path[0].length-1])||b.path[0].push(c),!b.style.savePath){var d=readTurtleTransform(a,!0);drawAndClearPath(b.path,b.style,d.sx)}}function endAndFillPenPath(a,b){var c=(readTurtleTransform(a,!0),getTurtleData(a));drawAndClearPath(c.path,b),c.style&&c.style.savePath&&$.style(a,"turtlePenStyle","none")}function fillDot(a,b,c){var d=getTurtleDrawingCtx();d.save(),applyPenStyle(d,c),1/0===b&&drawing.canvas?d.fillRect(0,0,drawing.canvas.width,drawing.canvas.height):(d.beginPath(),d.arc(a.pageX,a.pageY,b/2,0,2*Math.PI,!1),d.closePath(),d.fill(),c.strokeStyle&&d.stroke()),d.restore()}function clearField(a){if((!a||/\bcanvas\b/.test(a))&&eraseBox(document,{fillStyle:"transparent"}),(!a||/\bturtles\b/.test(a))&&drawing.surface){var b=$(drawing.surface).find(".turtle");global_turtle&&(b=b.not(global_turtle)),b.remove()}if(!a||/\btext\b/.test(a)){var c=$("samp#_testpanel");drawing.surface&&(c=c.add(drawing.surface)),$("body").contents().not(c).remove()}}function eraseBox(a,b){var c=getCornersInPageCoordinates(a),d=getTurtleDrawingCtx(),e=1;if(c&&!(c.length<3)){for(d.save(),d.globalCompositeOperation="copy",applyPenStyle(d,b),d.beginPath(),d.moveTo(c[0].pageX,c[0].pageY);e<c.length;e+=1)d.lineTo(c[e].pageX,c[e].pageY);d.closePath(),d.clip(),d.fill(),d.restore()}}function getBoundingBoxOfCorners(a,b){if(!a||a.length<1)return null;for(var c=1,d={left:Math.floor(a[0].pageX),top:Math.floor(a[0].pageY),right:Math.ceil(a[0].pageX),bottom:Math.ceil(a[0].pageY)};c<a.length;++c)d.left=Math.min(d.left,Math.floor(a[c].pageX)),d.top=Math.min(d.top,Math.floor(a[c].pageY)),d.right=Math.max(d.right,Math.ceil(a[c].pageX)),d.bottom=Math.max(d.bottom,Math.ceil(a[c].pageY));return b&&(d.left=Math.max(0,d.left),d.top=Math.max(0,d.top),d.right=Math.min(dw(),d.right),d.bottom=Math.min(dh(),d.bottom)),d}function touchesPixel(a,b){if(!a||!drawing.canvas)return!1;var c,d=getCornersInPageCoordinates(a),e=drawing.canvas,f=getBoundingBoxOfCorners(d,!0),g=(f.right-f.left)*drawing.subpixel,h=(f.bottom-f.top)*drawing.subpixel,i=getOffscreenCanvas(g,h),j=i.getContext("2d"),k=rgbaForColor(b),l=1;if(!d||d.length<3||!g||!h)return!1;for(j.clearRect(0,0,g,h),j.drawImage(e,f.left*drawing.subpixel,f.top*drawing.subpixel,g,h,0,0,g,h),j.save(),j.beginPath(),j.moveTo(0,0),j.lineTo(g,0),j.lineTo(g,h),j.lineTo(0,h),j.closePath(),j.moveTo((d[0].pageX-f.left)*drawing.subpixel,(d[0].pageY-f.top)*drawing.subpixel);l<d.length;l+=1)j.lineTo((d[l].pageX-f.left)*drawing.subpixel,(d[l].pageY-f.top)*drawing.subpixel);if(j.closePath(),j.clip(),j.clearRect(0,0,g,h),j.restore(),c=j.getImageData(0,0,g,h).data,k){for(l=0;l<c.length;l+=4)if(Math.abs(c[l+0]-k[0])<=3&&Math.abs(c[l+1]-k[1])<=3&&Math.abs(c[l+2]-k[2])<=3&&c[l+3]<=2*k[3]&&c[l+3]>=k[3]/2)return!0}else for(l=0;l<c.length;l+=4)if(c[l+3]>0)return!0;return!1}function applyImg(a,b){if("IMG"==a[0].tagName)a[0].src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",a.css({backgroundImage:"none",height:"auto",width:"auto"}),a[0].src=b.url,a.css(b.css);else{var c={backgroundImage:"url("+b.url+")",backgroundRepeat:"no-repeat",backgroundPosition:"center"};b.css.width&&b.css.height&&(c.backgroundSize=b.css.width+"px "+b.css.height+"px"),a.css(c)}}function doQuickMove(a,b,c){var d=readTurtleTransform(a,!0),e=d&&convertToRadians(d.rot),f=d&&b*d.sy,g=d&&(c||0)*d.sy,h=-Math.cos(e)*f,i=Math.sin(e)*f;d&&(c&&(h+=Math.sin(e)*g,i+=Math.cos(e)*g),d.tx+=i,d.ty+=h,a.style[transform]=writeTurtleTransform(d),flushPenState(a))}function displacedPosition(a,b,c){var d=readTurtleTransform(a,!0),e=d&&convertToRadians(d.rot),f=d&&b*d.sy,g=d&&(c||0)*d.sy,h=-Math.cos(e)*f,i=Math.sin(e)*f;if(d)return g&&(h+=Math.sin(e)*g,i+=Math.cos(e)*g),cssNum(d.tx+i)+" "+cssNum(d.ty+h)}function isPageCoordinate(a){return a&&$.isNumeric(a.pageX)&&$.isNumeric(a.pageY)}function makeTurtleSpeedHook(){return{get:function(a){return getTurtleData(a).speed},set:function(a,b){($.isNumeric(b)&&!(0>=b)||b in $.fx.speeds||""+b=="Infinity")&&(getTurtleData(a).speed=""+b)}}}function makeTurtleEasingHook(){return{get:function(a){return getTurtleData(a).easing},set:function(a,b){b in $.easing&&(getTurtleData(a).easing=b)}}}function animTime(a){var b=$.data(a,"turtleData");return b?$.isNumeric(b.speed)||"Infinity"==b.speed?1e3/b.speed:b.speed:"turtle"}function animEasing(a){var b=$.data(a,"turtleData");return b?b.easing:null}function makeTurtleForwardHook(){return{get:function(a,b){var c=readTurtleTransform(a,b),d=readTransformOrigin(a);if(c){var e=convertToRadians(c.rot),f=Math.cos(e),g=Math.sin(e);return cssNum(((c.tx+d[0])*g-(c.ty+d[1])*f)/c.sy)+"px"}},set:function(a,b){var c=readTurtleTransform(a,!0)||{tx:0,ty:0,rot:0,sx:1,sy:1,twi:0},d=readTransformOrigin(a),e=parseFloat(b)*c.sy,f=convertToRadians(c.rot),g=Math.cos(f),h=Math.sin(f),i=(c.tx+d[0])*g+(c.ty+d[1])*h;c.tx=i*g+e*h-d[0],c.ty=i*h-e*g-d[1],a.style[transform]=writeTurtleTransform(c),flushPenState(a)}}}function makeTurtleHook(a,b,c,d){return{get:function(b,e){d&&fixOriginIfWatching(b);var f=readTurtleTransform(b,e);return f?f[a]+c:void 0},set:function(c,e){d&&fixOriginIfWatching(c);var f=readTurtleTransform(c,!0)||{tx:0,ty:0,rot:0,sx:1,sy:1,twi:0},g={displace:d};f[a]=b(e,c,f,g),c.style[transform]=writeTurtleTransform(f),g.displace&&flushPenState(c)}}}function maybeArcRotation(a,b,c,d){a=parseFloat(a);var e=$.data(b,"turtleData"),f=e?e.turningRadius:0;if(0===f)return d.displace=!1,normalizeRotation(a);var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=e&&e.style&&e.down,w=c.rot,x=convertToRadians(c.rot),y=normalizeRotationDelta(a-w),z=(y>0?f:-f)*c.sy,A=[Math.cos(x)*z,Math.sin(x)*z];if(v){for(n=1,o=y,p=Math.abs(y),p>45&&(n=Math.ceil(p/45),o=y/n),q=e.path[0],r=totalTransform2x2(b.parentElement),t=[];--n>=0;)g=0===n?a:w+o,i=convertToRadians(w+180),j=convertToRadians(g+180),t.push.apply(t,approxBezierUnitArc(i,j)),w=g;for(u=[],s=getCenterInPageCoordinates(b),k=0;k<t.length;k++)l=matrixVectorProduct(r,addVector(scaleVector(t[k],z),A)),u.push({pageX:l[0]+s.pageX,pageY:l[1]+s.pageY});for(m=[],k=0;k<u.length;k+=3)m.push(u.slice(k,k+3));addBezierToPath(q,s,m)}return h=convertToRadians(a),c.tx+=A[0]-Math.cos(h)*z,c.ty+=A[1]-Math.sin(h)*z,d.displace=!0,a}function makeRotationStep(a){return function(b){b.delta||(b.delta=normalizeRotationDelta(b.end-b.start),b.start=b.end-b.delta),$.cssHooks[a].set(b.elem,b.start+b.delta*b.pos)}}function splitPair(a,b){a.length&&"_"===a[0]&&(a=a.substring(1));for(var c=$.map((""+a).split(/\s+/),parseFloat);c.length<2;)c.push(b?c.length?c[c.length-1]:1:0);return c}function makePairStep(a,b){return function(c){if(!c.delta){var d=splitPair(c.end,!b);c.start=splitPair(c.start,!b),c.delta=[d[0]-c.start[0],d[1]-c.start[1]]}$.cssHooks[a].set(c.elem,[c.start[0]+c.delta[0]*c.pos,c.start[1]+c.delta[1]*c.pos].join(" "))}}function makeTurtleXYHook(a,b,c,d){return{get:function(a,e,f){fixOriginIfWatching(a);var g=readTurtleTransform(a,e);return g?d||g[b]!=g[c]?(""===f?"_":"")+g[b]+" "+g[c]:""+g[b]:void 0},set:function(a,e){fixOriginIfWatching(a);var f=readTurtleTransform(a,!0)||{tx:0,ty:0,rot:0,sx:1,sy:1,twi:0},g="string"==typeof e?e.split(/\s+/):[e];g.length<1||g.length>2||(g.length>=1&&(f[b]=g[0]),f[c]=g.length>=2?g[1]:d?0:f[b],a.style[transform]=writeTurtleTransform(f),d&&flushPenState(a))}}}function fixOriginIfWatching(a){var b=$.data(a,"turtleData");if(b&&b.lastSeenOrigin){var c=b.lastSeenOrigin,d=readTransformOrigin(a),e=$.now();if(b.lastSeenOriginEvent&&a.complete&&($.event.remove(a,"load.turtle",b.lastSeenOriginEvent),b.lastSeenOriginEvent=null,b.lastSeenOriginTime=e),d[0]!=c[0]||d[1]!=c[1]){var f=readTurtleTransform(a,!0);f.tx+=c[0]-d[0],f.ty+=c[1]-d[1],b.lastSeenOrigin=d,b.lastSeenOriginTime=e,a.style[transform]=writeTurtleTransform(f)}else"IMG"!=a.tagName||a.complete?!b.lastSeenOriginEvent&&e-b.lastSeenOriginTime>1e3&&(clearInterval(b.lastSeenOriginTimer),b.lastSeenOriginTimer=null,b.lastSeenOriginTime=null,b.lastSeenOrigin=null):(b.lastSeenOriginTime=e,b.lastSeenOriginEvent||(b.lastSeenOriginEvent=function(){fixOriginIfWatching(a)},$.event.add(a,"load.turtle",b.lastSeenOriginEvent)))}}function queueWaitForImageLoad(a){!a[0]||"IMG"!=a[0].tagName||a[0].complete||(a[0].style.width||a[0].getAttribute("width"))&&(a[0].style.height||a[0].getAttribute("height"))||a.queue(function(){function b(){a[0].complete&&(clearInterval(c),a.dequeue())}var c=null;c=setInterval(b,100)})}function watchImageToFixOriginOnLoad(a,b){if(a&&"IMG"===a.tagName&&(b||!a.complete)&&"absolute"==$(a).css("position")){{var c=getTurtleData(a);$.now()}if(c.lastSeenOrigin)return fixOriginIfWatching(a),void 0;c.lastSeenOrigin=readTransformOrigin(a),c.lastSeenOriginTimer=setInterval(function(){fixOriginIfWatching(a)},200),c.lastSeenOriginTime=$.now(),fixOriginIfWatching(a)}}function withinOrNot(a,b,c,d,e){var f,g,h,i,j;return d===undefined&&e===undefined?(f=$(c),f.length?(g=f[0],h=getPageGbcr(g),polyMatchesGbcr(getCornersInPageCoordinates(g),h)?a.filter(function(){var a=getPageGbcr(this);return b===(gbcrEncloses(h,a)||!isDisjointGbcr(h,a)&&$(this).inside(g))}):a.filter(function(){return b===$(this).inside(g)})):[]):(i=$.isNumeric(d)&&$.isNumeric(e)?[d,e]:d,$.isArray(i)&&(i=convertLocalXyToPageCoordinates(a[0]||document.body,[i])[0]),"touch"===c?isPageCoordinate(i)?a.filter(function(){return b===$(this).touches(i)}):(f=$(i),h=getPageGbcr(f[0]),polyMatchesGbcr(getCornersInPageCoordinates(f[0]),h)?a.filter(function(){var a=getPageGbcr(this);return b===(!isDisjointGbcr(h,a)&&(gbcrEncloses(h,a)||f.touches(this)))}):a.filter(function(){return b===f.touches(this)})):(j=c*c,a.filter(function(){var a=getPageGbcr(this);if(isGbcrOutside(i,j,a))return!b;if(isGbcrInside(i,j,a))return b;fixOriginIfWatching(this);var c=getCenterInPageCoordinates(this),d=i.pageX-c.pageX,e=i.pageY-c.pageY;
return b===j>=d*d+e*e})))}function wraphelp(a,b){return b.helptext=a,b}function helpwrite(a){see.html('<aside style="line-height:133%;word-break:normal;white-space:normal">'+a+"</aside>")}function globalhelp(a){var b,c,d=$.extend({},dollar_turtle_methods,turtlefn,extrahelp);if(a&&!$.isArray(a.helptext)&&a in d&&(a=d[a]),a&&$.isArray(a.helptext)&&a.helptext.length){for(c=0;c<a.helptext.length;++c){var e=a.helptext[c];helpwrite(e.replace(/<(u)>/g,'<$1 style="border:1px solid black;text-decoration:none;word-break:keep-all;white-space:nowrap">').replace(/<(mark)>/g,'<$1 style="border:1px solid blue;color:blue;text-decoration:none;word-break:keep-all;white-space:nowrap;cursor:pointer;" onclick="see.enter($(this).text())">'))}return helpok}if("number"==typeof a)return helpwrite("Equal to the number "+a+"."),helpok;if("boolean"==typeof a)return helpwrite("Equal to the boolean value "+a+"."),helpok;if(null===a)return helpwrite("The special null value represents the absence of a value."),helpok;if(a===undefined)return helpwrite("This is an unassigned value."),helpok;if(a===window)return helpwrite("The global window object represents the browser window."),helpok;if(a===document)return helpwrite("The HTML document running the program."),helpok;if(a===jQuery)return helpwrite('The jQuery function.  Read about it at <a href="http://learn.jquery.com/" target="_blank">jquery.com</a>.'),helpok;if(a&&a!=globalhelp)return helpwrite("No help available for "+a),helpok;b=[];for(var f in d)!d[f].helptext||!d[f].helptext.length||f in window&&"function"!=typeof window[f]||b.push(f);return b.sort(function(a,b){return a.length!=b.length?a.length-b.length:b>a?-1:a>b?1:0}),helpwrite("help available for: "+b.map(function(a){return'<mark style="border:1px solid blue;color:blue;text-decoration:none;word-break:keep-all;white-space:nowrap;cursor:pointer;" onclick="see.enter($(this).text())">'+a+"</mark>"}).join(" ")),helpok}function checkPredicate(a,b){if(!$.turtle.nowarn){var c,d=!0;for(c=0;d&&c<b.length;++c)$.queue(b[c]).length>=100&&(d=!1);d||(see.visible()?see.html('<span style="color:red">Warning: '+a+' may not return useful results when motion is queued. Try <b style="background:yellow">defaultspeed Infinity</b></span>.'):console.warn(a+" may not return useful results when motion is queued.  Try defaultspeed Infinity."),b.finish())}}function deprecate(a,b,c){a[b]=function(){return b in deprecation_shown||(see.html('<span style="color:red;">'+b+" deprecated.  Use "+c+".</span>"),deprecation_shown[b]=1),a[c].apply(this,arguments)}}function pollSendRecv(a){if(null===sendRecvData.pollTimer){var b=sendRecvData.sent[a],c=sendRecvData.waiting[a];c&&c.length&&b&&b.length&&(sendRecvData.pollTimer=setTimeout(function(){sendRecvData.pollTimer=null,c&&c.length&&b&&b.length&&(c.shift().apply(null,b.shift()),pollSendRecv(a))},0))}}function seehelphook(a,b){if("function"!=typeof b&&"undefined"!=typeof b||!/^\w+\s*$/.test(a)){if("undefined"==typeof b&&/^help\s+\S+$/.test(a))return globalhelp(/^help\s+(\S+)$/.exec(a)[1]),!0}else{if(b&&b.helptext)return globalhelp(b),!0;if(a in extrahelp)return globalhelp(a),!0}return!1}function copyhelp(a,b,c,d){return a.helptext?d.helptext=a.helptext:b in c&&(d.helptext=c[b].helptext),d.method=a,d}function globalizeMethods(a,b){var c=[];for(var d in b)!b.hasOwnProperty(d)||d in window||(c.push(d),window[d]=function(b){var c=a[b],d=a;return copyhelp(c,b,extrahelp,function(){return c.apply(d,arguments)})}(d));return c}function clearGlobalTurtle(){global_turtle=null;for(var a=0;a<global_turtle_methods.length;++a)delete window[global_turtle_methods[a]];global_turtle_methods.length=0}function planIfGlobal(a){global_turtle?$(global_turtle).plan(a):a()}function onDOMNodeRemoved(a){a.target.id&&window[a.target.id]&&window[a.target.id].jquery&&1===window[a.target.id].length&&window[a.target.id][0]===a.target&&delete window[a.target.id],a.target===global_turtle&&clearGlobalTurtle()}function isCSSColor(a){return null!==rgbaForColor(a)}function isNamedColor(a){if(!/^[a-z]+$/.test(a))return!1;for(var b=0;b<colors.length;++b)if(colors[b]==a)return!0;return!1}function rgbaForColor(a){if(!a||!isNamedColor(a)&&!/^(?:rgb|hsl)a?\([^)]*\)$|^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/i.test(a))return null;if(a in colorCache)return colorCache[a];var b,c=document.createElement("div"),d=c.style.color,e=null;return c.style.color=a,d!==c.style.color&&(b=/rgba?\s*\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*([.\d]+))?\s*\)/.exec($(c).css({position:"absolute",top:0,left:0}).appendTo("body").css("color")),b&&(e=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),Math.round(255*(b[4]?parseFloat(b[4]):1))]),$(c).remove()),colorCache[a]=e,e}function createTurtleShellOfColor(a){var b=document.createElement("canvas");b.width=40,b.height=48;var c=b.getContext("2d"),d=20,e=26;c.beginPath(),c.arc(d,e,16,0,2*Math.PI,!1),c.closePath(),c.fillStyle=a,c.fill(),c.beginPath();for(var f=[[[5,-14],[3,-11]],[[3,-11],[7,-8],[4,-4]],[[4,-4],[7,0],[4,4]],[[4,4],[7,8],[3,11]],[[7,-8],[12,-9],null],[[7,0],[15,0],null],[[7,8],[12,9],null],[[3,11],[1,15],null]],g=0;g<f.length;g++){var h=f[g];c.moveTo(d+h[0][0],e+h[0][1]);for(var i=1;i<h.length;i++)null!==h[i]&&c.lineTo(d+h[i][0],e+h[i][1]);for(var i=h.length-1;i>=0;i--)null===h[i]?(i--,c.moveTo(d-h[i][0],e+h[i][1])):c.lineTo(d-h[i][0],e+h[i][1])}return c.lineWidth=1.1,c.strokeStyle="rgba(255,255,255,0.75)",c.stroke(),c.beginPath(),c.arc(d,e,15.5,0,2*Math.PI,!1),c.closePath(),c.strokeStyle="rgba(0,0,0,0.4)",c.stroke(),b.toDataURL()}function createPointerOfColor(a){var b=document.createElement("canvas");b.width=40,b.height=48;var c=b.getContext("2d");return c.beginPath(),c.moveTo(0,49),c.lineTo(20,0),c.lineTo(40,48),c.lineTo(20,42),c.closePath(),c.fillStyle=a,c.fill(),b.toDataURL()}function escapeHtml(a){return String(a).replace(/[&<>"]/g,function(a){return entityMap[a]})}function nameToImg(a){if("turtle"==a&&(a="mediumseagreen"),isCSSColor(a))return{url:createTurtleShellOfColor(a),css:{width:20,height:24,turtleHull:"-8 -5 -8 6 0 -13 8 6 8 -5 0 9",transformOrigin:"10px 13px",opacity:.5,backgroundImage:"url("+turtleGIFUrl+")",backgroundSize:"contain"}};var b=/^openicon:\/?\/?([^@\/][^@]*)(?:@(?:(\d+):)?(\d+))?$/.exec(a);if(b){var c=b[1],d=parseInt(b[3]),e=parseInt(b[2]),f=c.lastIndexOf("."),g="png";return-1==c.indexOf("/")&&(c="others/"+c),f>0&&f<=c.length-4&&f>=c.length-5&&(g=c.substring(f+1),c=c.substring(0,f)),e||(e=d||24),d||(d=48),{url:"http://openiconlibrary.sourceforge.net/gallery2/open_icon_library-full/icons/"+g+"/"+d+"x"+d+"/"+c+"."+g,css:{width:e,height:e,transformOrigin:"50% 50%",opacity:1}}}return/^(?:(?:https?|data):)?\//i.exec(a)?{url:a,css:{transformOrigin:"50% 50%",opacity:1}}:null}function hatchone(a,b,c){var d=a&&/^[a-zA-Z]\w*$/.exec(a),e=a&&/^<.*>$/.exec(a),f=nameToImg(a)||(d||a===undefined)&&nameToImg("turtle");d&&$("#"+a).length&&(d=!1);var g;if(f?(g=$("<img>"),applyImg(g,f),queueWaitForImageLoad(g)):g=e?$(a):$("<div>"+escapeHtml(a)+"</div>"),g.css({position:"absolute",display:"table",top:0,left:0}),(!b||9==b.nodeType||$.isWindow(b))&&(b=getTurtleField()),g.appendTo(b),c){var h=$.style(c,"transform");h?g.css({transform:$.style(c,"transform")}):g.home(c)}else g.home(b);return g.addClass("turtle"),d&&(g.attr("id",a),attaching_ids&&!window.hasOwnProperty(a)&&(window[a]=g)),g}function random(a){if("number"==typeof a)return Math.floor(Math.random()*a);if("object"==typeof a&&a.length&&a.slice)return a[Math.floor(Math.random()*a.length)];if("normal"==a){var b,c,d,e,f;do b=Math.random(),c=1.7156*(Math.random()-.5),d=b-.449871,e=Math.abs(c)+.386595,f=d*d+e*(.196*e-.25472*d);while(f>.27597&&(f>.27846||c*c>-4*Math.log(b)*b*b));return c/b}return"position"==a?{pageX:random(dw()+1),pageY:random(dh()+1)}:"color"==a?"hsl("+Math.floor(360*Math.random())+",100%,50%)":"gray"==a?"hsl(0,0,"+Math.floor(100*Math.random())+"%)":Math.random()}function globaltick(a,b){b===undefined&&$.isFunction(a)&&(b=a,a=1),tickinterval&&(window.clearInterval(tickinterval),tickinterval=null),b&&a&&(tickinterval=window.setInterval(b,1e3/a))}function globaldefaultspeed(a){return a===undefined?1e3/$.fx.speeds.turtle:($.fx.speeds.turtle=a>0?1e3/a:0,void 0)}function turtleids(a){a===undefined&&(a=""),$("[id]").each(function(b,c){window[a+c.id]=$("#"+c.id)}),attaching_ids=!0}function turtleevents(a){if(a===undefined&&(a="last"),eventsaver&&$(window).off($.map(eventfn,function(a,b){return b}).join(" "),eventsaver),a||""===a){eventsaver=function(b){var c,d=window[a+b.type];if(d&&d.__proto__===b.__proto__){for(c in d)d.hasOwnProperty(c)&&delete d[c];for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c])}else window[a+b.type]=b},$(window).on($.map(eventfn,function(a,b){return b}).join(" "),eventsaver);for(var b in eventfn)window[a+b]=new $.Event}}function output(a,b){if(a===undefined||null===a)return $("<img>").wear("turtle").css({background:"none"}).appendTo("body");var c=!1,d=null;for(a=""+a;(null===d||1!=d.length)&&!c;)("<"!=a.charAt(0)||">"!=a.charAt(a.length-1)||null!==d&&1!=d.length)&&(a="<"+b+' style="display:table;">'+a+"</"+b+">",c=!0),d=$(a);return d.appendTo("body"),d}function button(a,b){$.isFunction(a)&&b===undefined&&(b=a,a=null),(null===a||a===undefined)&&(a="\u25ce");var c=$("<button>"+escapeHtml(a)+"</button>");return c.appendTo("body"),b&&c.click(b),c}function input(a,b,c){function d(){k||(k=setTimeout(function(){k=null},1e3))}function e(){if(!f())return!1;var a=h.val();k&&l==a||(d(),l=a,h.remove(),i.append(a),(c>0||c>=0&&$.isNumeric(a)&&""+parseFloat(a)==a)&&(a=parseFloat(a)),b&&b.call(j,a))}function f(){if(0>=c)return!0;var a=h.val(),b=a.replace(/[^0-9\.]/g,"");return a==b&&$.isNumeric(b)?!0:(h.val(b),!1)}function g(a){if(13==a.which){if(!f())return!1;e()}return c>0&&a.which>=32&&a.which<=127&&(a.which<"0".charCodeAt(0)||a.which>"9".charCodeAt(0))&&(a.which!=".".charCodeAt(0)||h.val().indexOf(".")>=0)?!1:void 0}$.isFunction(a)&&!b&&(b=a,a=null),a=$.isNumeric(a)||a?a:"&rArr;";var h=$("<input>").css({margin:0,padding:0}),i=$('<label style="display:block">'+a+"&nbsp;</label>").append(h),j=$([h[0],i[0]]),k=null,l=h.val();return d(),h.on("keypress keydown",g),h.on("change",e),$("body").append(i),h.focus(),j}function componentColor(a,b){return a+"("+Array.prototype.join.call(b,",")+")"}function table(a,b,c,d){var e,f,g=null;if($.isArray(a))for(d=c,c=b,g=a,a=g.length,b=0,e=0;a>e;e++)b=$.isArray(g[e])?Math.max(b,g[e].length):Math.max(b,1);var h=["<table>"];for(e=0;a>e;e++){for(h.push("<tr>"),f=0;b>f;f++)g?$.isArray(g[e])&&f<g[e].length?h.push("<td>"+escapeHtml(g[e][f])+"</td>"):$.isArray(g[e])||0!=f?h.push("<td></td>"):h.push("<td>"+escapeHtml(g[e])+"</td>"):h.push("<td></td>");h.push("</tr>")}h.push("</table>");var i=$(h.join("")),j={borderCollapse:"collapse",width:"35px",height:"35px",border:"1px solid black",tableLayout:"fixed",textAlign:"center",margin:"0",padding:"0"};return i.css($.extend({},j,{width:"auto",height:"auto",maxWidth:"auto",border:"none"},d)),i.find("td").css($.extend({},j,c)),i.appendTo("body"),i}function isAudioPresent(){return!(!window.AudioContext&&!window.webkitAudioContext)}function getAudioTop(){if(!audioTop){var a=new(window.AudioContext||window.webkitAudioContext),b=a.createDynamicsCompressor(),c=null;b.connect(a.destination),audioTop={ac:a,out:b,nextStartTime:function(){return null===c&&(c=a.currentTime),Math.max(c+.25,a.currentTime+.015625)}}}return audioTop}function parseABCNotes(a){for(var b,c=a.match(ABCtoken),d=[],e=null,f=0,g=0;f<c.length;)/^s+$/.test(c[f])?f++:/</.test(c[f])?g=-c[f++].length:/>/.test(c[f])?g=c[f++].length:(e=parseStem(c,f),null!==e?null!==e&&(g&&d.length&&(b=g>0?(1-Math.pow(.5,g))*e.value.time:(Math.pow(.5,-g)-1)*d[d.length-1].time,d[d.length-1].time+=b,e.value.time-=b,g=0),d.push(e.value),f=e.index):f++);return d}function parseStem(a,b){var c=[],d="";if(b<a.length&&"["==a[b]){for(b++;b<a.length;){if(/[A-Ga-g]/.test(a[b]))c.push(a[b++]);else{if(!/[xzXZ]/.test(a[b]))break;b++}b<a.length&&/\d|\//.test(a[b])&&(d=a[b++])}if("]"!=a[b])return null;b++}else if(b<a.length&&/[A-Ga-g]/.test(a[b]))c.push(a[b++]);else{if(!/^[xzXZ]$/.test(a[b]))return null;b++}return b<a.length&&/\d|\//.test(a[b])&&(d=a[b++]),{index:b,value:{pitch:c,duration:d,frequency:c.map(pitchToFrequency),time:durationToTime(d)}}}function pitchToFrequency(a){var b=/^(\^\^|\^|__|_|=|)([A-Ga-g])(,+|'+|)$/.exec(a);if(!b)return null;var c={C:-9,D:-7,E:-5,F:-4,G:-2,A:0,B:2,c:3,d:5,e:7,f:8,g:10,a:12,b:14},d={"^^":2,"^":1,"":0,"=":0,_:-1,__:-2},e=c[b[2]]+d[b[1]]+(/,/.test(b[3])?-12:12)*b[3].length;return 440*Math.pow(2,e/12)}function durationToTime(a){var b,c,d,e=/^(\d*)(?:\/(\d*))?$|^(\/+)$/.exec(a),f=0;if(e[3])return Math.pow(.5,e[3].length);for(c=e[2]?parseFloat(e[2]):/\//.test(a)?2:1,d=0,b=e[1]?parseFloat(e[1]):1;d+1<e[1].length&&b>c;)d+=1,f=parseFloat(e[1].substring(0,d)),b=parseFloat(e[1].substring(d));return f+b/c}function playABC(a,b){function c(){v.ac.currentTime<E?setTimeout(c,1e3*(E-v.ac.currentTime)):$(a).dequeue()}if(!isAudioPresent())return a&&$(a).dequeue(),void 0;var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=getAudioTop(),w=0,x=.5,y=120,z=0,A=["square"],B={a:.01,d:.2,s:.1,r:.1},C=[B],D=null,E=v.ac.currentTime;if($.isPlainObject(b[0])){if(u=b[0],"volume"in u&&(x=u.volume),"tempo"in u&&(y=u.tempo),"transpose"in u&&(z=u.transpose),"type"in u&&(A=u.type),"envelope"in u)if($.isArray(u.envelope))for(C=[],m=0;m<u.envelope.length;m++)C.push($.extend({},B,u.envelope[m]));else $.extend(B,u.envelope);w=1}for(g=60/y,$.isArray(A)||(A=[A]),$.isArray(x)||(x=[x]),$.isArray(z)||(z=[z]),d=w;d<b.length;d++){for(e=d-w,h=parseABCNotes(b[d]),i=A[e%A.length]||"square",k=0,m=0;m<h.length;m++)k=Math.max(k,h[m].frequency.length);if(0!=k){for(l=x[e%x.length]/Math.sqrt(k),B=C[e%C.length],f=Math.pow(2,z[e%z.length]/12),null===D&&(D=v.nextStartTime()),j=D,m=0;m<h.length;m++){if(o=h[m].time,h[m].frequency.length>0){n=v.ac.createGain(),s=o*g+j,p=Math.min(o,B.a)*g+j,r=Math.max(0,o+B.r)*g+j,p>r&&(p=r=(p+r)/2),s>r&&(s=r,r=o*g+j),t=B.d*g,n.gain.setValueAtTime(0,j),n.gain.linearRampToValueAtTime(l,p),"setTargetAtTime"in n.gain?n.gain.setTargetAtTime(B.s*l,p,t):n.gain.setTargetValueAtTime(B.s*l,p,t),q=B.s+(1-B.s)*Math.exp((p-s)/t),n.gain.setValueAtTime(q*l,s),n.gain.linearRampToValueAtTime(0,r),n.connect(v.out);for(var F=0;F<h[m].frequency.length;F++){var G=v.ac.createOscillator();G.type=i,G.frequency.value=h[m].frequency[F]*f,G.connect(n),"start"in n?(G.start(j),G.stop(r)):(G.start(j),G.stop(r))}}j+=o*g}E=Math.max(E,j)}}a&&c()}function init(a){if(0===arguments.length)a={};else if(2==arguments.length){var b={};b[arguments[0]]=arguments[1],a=b}else 1==arguments.length&&"function"==typeof arguments[0]&&(a={eval:arguments[0]});return"jQuery"in a&&($=a.jQuery),"eval"in a&&(scopes[""].e=a.eval),"this"in a&&(scopes[""].t=a["this"]),"element"in a&&(logelement=a.element),"autoscroll"in a&&(autoscroll=a.autoscroll),"linestyle"in a&&(linestyle=a.linestyle),"depth"in a&&(logdepth=a.depth),"panel"in a&&(panel=a.panel),"height"in a&&(panelheight=a.height),"title"in a&&(paneltitle=a.title),"console"in a&&(logconsole=a.console),"history"in a&&(uselocalstorage=a.history),"coffee"in a&&(coffeescript=a.coffee),"abbreviate"in a&&(abbreviate=a.abbreviate),"consolehook"in a&&(consolehook=a.consolehook),"noconflict"in a&&noconflict(a.noconflict),panel&&(logelement="#_testlog",autoscroll="#_testscroll",pulljQuery(tryinitpanel)),scope()}function scope(a,b,c){return arguments.length<=1?(arguments.length||(a=""),seepkg+".scope("+cstring(a)+","+seejs+",this)"):(scopes[a]={e:b,t:c},void 0)}function seeeval(a,b){1==arguments.length&&(b=a,a="");var c=scopes[""].e,d=scopes[""].t;return scopes.hasOwnProperty(a)&&(scopes[a].e&&(c=scopes[a].e),scopes[a].t&&(d=scopes[a].t)),c.call(d,b)}function barecs(a){var b=coffeescript||window.CoffeeScript,c=b.compile(a,{bare:1});return c&&(c=c.replace(initialvardecl,"")),c}function exportsee(){see.repr=repr,see.html=loghtml,see.noconflict=noconflict,see.init=init,see.scope=scope,see.eval=seeeval,see.barecs=barecs,see.here="eval("+seepkg+".init())",see.clear=seeclear,see.hide=seehide,see.show=seeshow,see.visible=seevisible,see.enter=seeenter,see.js=seejs,see.cs="(function(){return eval("+seepkg+".barecs(arguments[0]));})",see.version=version,window[seepkg]=see}function noteoldvalue(a){return{name:a,has:window.hasOwnProperty(a),value:window[a]}}function restoreoldvalue(a){a.has?window[a.name]=a.value:delete window[a.name]}function noconflict(a){return a&&"string"==typeof a||(a="see"+(1+Math.random()+"").substr(2)),oldvalue&&restoreoldvalue(oldvalue),seepkg=a,oldvalue=noteoldvalue(a),exportsee(),see}function pulljQuery(a){function b(a,b){function c(a,b){a.onload=a.onreadystatechange=b}var d=document.createElement("script"),e=document.getElementsByTagName("head")[0],f=1;c(d,function(){!f||d.readyState&&!{loaded:1,complete:1}[d.readyState]||(f=0,b(),c(d,null),e.removeChild(d))}),d.src=a,e.appendChild(d)}return!pulljQueryVersion||$&&$.fn&&$.fn.jquery?(a(),void 0):(b("//ajax.googleapis.com/ajax/libs/jquery/"+pulljQueryVersion+"/jquery.min.js",function(){$=jQuery.noConflict(!0),a()}),void 0)}function loghtml(a){queue.push('<samp class="_log">'),queue.push(a),queue.push("</samp>"),flushqueue()}function vtype(a){var b=Object.prototype.toString.call(a),c=b.substring(8,b.length-1);if("Object"==c){if("length"in a&&"slice"in a&&"number"==typeof a.length)return"Array";if("originalEvent"in a&&"target"in a&&"type"in a)return vtype(a.originalEvent)}return c}function isprimitive(a){switch(a){case"String":case"Number":case"Boolean":case"Undefined":case"Date":case"RegExp":case"Null":return!0}return!1}function isdom(a){return a.nodeType&&a.nodeName&&"function"==typeof a.cloneNode}function midtruncate(a,b){return b&&b>3&&a.length>b?a.substring(0,Math.floor(b/2)-1)+"..."+a.substring(a.length-(Math.ceil(b/2)-2)):a}function cstring(a,b){function c(a){if(cescapes.hasOwnProperty(a))return cescapes[a];var b="0"+a.charCodeAt(0).toString(16);return"\\x"+b.substring(b.length-2)}return-1==a.indexOf('"')||-1!=a.indexOf("'")?midtruncate('"'+htmlescape(a.replace(/[\0-\x1f\x7f-\x9f"\\]/g,c))+'"',b):midtruncate("'"+htmlescape(a.replace(/[\0-\x1f\x7f-\x9f'\\]/g,c))+"'",b)}function tiny(a,b){var c=vtype(a);if("String"==c)return cstring(a,b);if("Undefined"==c||"Null"==c)return c.toLowerCase();if(isprimitive(c))return""+a;if("Array"==c&&0===a.length)return"[]";if("Object"==c&&isshort(a))return"{}";if(isdom(a)&&1==a.nodeType){if(a.hasAttribute("id"))return a.tagName.toLowerCase()+"#"+htmlescape(a.getAttribute("id"));if(a.hasAttribute("class")){var d=a.getAttribute("class").split(" ")[0];if(d)return a.tagName.toLowerCase()+"."+htmlescape(d)}return a.tagName.toLowerCase()}return c}function isnonspace(a){return 3!=a.nodeType||/[^\s]/.exec(a.textContent)}function trimemptystartline(a){return a.replace(/^\s*\n/,"")}function isshort(a,b,c){var d=vtype(a);if(isprimitive(d))return!0;if(!b&&"Array"==d)return!c||a.length<=c;if(isdom(a))return 9==a.nodeType||11==a.nodeType?!1:1==a.nodeType?null===a.firstChild||null===a.firstChild.nextSibling&&3==a.firstChild.nodeType&&a.firstChild.textContent.length<=c:!0;if("Function"==d){var e=a.toString();return e.length-e.indexOf("{")<=c}if("Error"==d)return!!a.stack;var f=0;for(var g in a)if(a.hasOwnProperty(g)){if(f+=1,b&&!isprimitive(vtype(a[g])))return!1;if(c&&f>c)return!1}return!0}function domsummary(a,b){var c;if("outerHTML"in a){c=isshort(a,!0,b);var d=a.cloneNode(c).outerHTML,e=null;if(!c){var f=/^(.*)(<\/[^\s]*>$)/.exec(d);f&&(e=f[2],d=f[1])}return[htmlescape(d),e&&htmlescape(e)]}if(1==a.nodeType){for(var g=["<"+a.tagName],h=0;h<a.attributes.length;++h)g.push(domsummary(a.attributes[h],b)[0]);return c=isshort(a,!0,b),c&&a.firstChild?[htmlescape(g.join(" ")+">"+a.firstChild.textContent+"</"+a.tagName+">"),null]:[htmlescape(g.join(" ")+(a.firstChild?">":"/>")),a.firstChild?htmlescape("</"+a.tagName+">"):null]}return 2==a.nodeType?[htmlescape(a.name+'="'+htmlescape(midtruncate(a.value,b),'"')+'"'),null]:3==a.nodeType?[htmlescape(trimemptystartline(a.textContent)),null]:4==a.nodeType?["<![CDATA["+htmlescape(midtruncate(a.textContent,b))+"]]>",null]:8==a.nodeType?["<!--"+htmlescape(midtruncate(a.textContent,b))+"-->",null]:10==a.nodeType?["<!DOCTYPE "+htmlescape(a.nodeName)+">",null]:[a.nodeName,null]}function summary(a,b){var c=vtype(a);if(isprimitive(c))return tiny(a,b);if(isdom(a)){var d=domsummary(a,b);return d[0]+(d[1]?"..."+d[1]:"")}if("Function"==c){var e=a.toString();return e.length-e.indexOf("{")>b&&(e=e.replace(/\{(?:.|\n)*$/,"").trim()),e}if(("Error"==c||"ErrorEvent"==c)&&"message"in a)return a.message;var f=[];if("Array"==c&&a.length<b){for(var g=a.length>1,h=g&&a[0],i=0;i<a.length;++i)g&&a[i]!==h&&(g=!1),f.push(tiny(a[i],b));return g?"["+tiny(h,b)+"] \xd7 "+a.length:"["+f.join(", ")+"]"}if(isshort(a,!1,b)){for(var j in a)a.hasOwnProperty(j)&&f.push(quotekey(j)+": "+tiny(a[j],b));return("Object"==c?"{":c+"{")+f.join(", ")+"}"}return"Array"==c?"Array("+a.length+")":c}function quotekey(a){return/^\w+$/.exec(a)?a:cstring(a)}function htmlescape(a,b){var c=/[<>&]/g;return b&&(c=new RegExp("[<>&"+b+"]","g")),a.replace(c,function(a){return"<"==a?"&lt;":">"==a?"&gt;":"&"==a?"&amp;":'"'==a?"&quot;":"&#"+a.charCodeAt(0)+";"})}function unindented(a){a=a.replace(/^\s*\n/,"");var b=a.match(/^\s*\S/gm),c=b.length&&b[0].length-1,d=1;for(b.length>1&&"{"==b[0].trim()&&(c=b[1].length-1,d=2);d<b.length;++d)if(c=Math.min(b[d].length-1,c),0>=c)return a;var e=new RegExp("^\\s{"+c+"}","mg");return a.replace(e,"")}function expand(a,b,c,d){if(d.push('<label class="_log"><input type="checkbox"><span>'),a&&d.push(a),isdom(b)){var e=domsummary(b,10);d.push(e[0]),d.push("</span><ul>");for(var f=b.firstChild;f;f=f.nextSibling)isnonspace(f)&&(3==f.nodeType?(d.push("<li><samp>"),d.push(unindented(f.textContent)),d.push("</samp></li>")):isshort(f,!0,20)||1>=c?d.push("<li>"+summary(f,20)+"</li>"):expand("",f,c-1,d));d.push("</ul>"),e[1]&&(d.push("<span>"),d.push(e[1]),d.push("</span>")),d.push("</label>")}else{d.push(summary(b,10)),d.push("</span><ul>");var g=vtype(b);if("Function"==g){var h=b.toString(),i=/\{(?:.|\n)*$/.exec(h);i&&(h=i[0]),d.push("<li><samp>"),d.push(htmlescape(unindented(h))),d.push("</samp></li>")}else if("Error"==g)d.push("<li><samp>"),d.push(htmlescape(b.stack)),d.push("</samp></li>");else if("Array"==g){for(var j=0;j<Math.min(100,b.length);++j){try{n=b[j]}catch(k){n=k}isshort(n,!0,20)||1>=c||"global"==vtype(n)?d.push("<li>"+j+": "+summary(n,100)+"</li>"):expand(j+": ",n,c-1,d)}b.length>100&&d.push("<li>length="+b.length+" ...</li>")}else{var l=0;for(var m in b)if(b.hasOwnProperty(m)){if(l+=1,l>100)continue;var n;try{n=b[m]}catch(k){n=k}isshort(n,!0,20)||1>=c||"global"==vtype(n)?(d.push("<li>"),d.push(quotekey(m)),d.push(": "),d.push(summary(n,100)),d.push("</li>")):expand(quotekey(m)+": ",n,c-1,d)}l>100&&d.push("<li>"+l+" properties total...</li>")}d.push("</ul></label>")}}function initlogcss(){if(!addedcss&&!window.document.getElementById("_logcss")){var a=window.document.createElement("style");a.id="_logcss",a.innerHTML=(linestyle?"samp._log{"+linestyle+"}":"")+logcss,window.document.head.appendChild(a),addedcss=!0}}function repr(a,b,c){b=b||3;var d=c||[],e=vtype(a);return"Error"==e||"ErrorEvent"==e?(d.push('<span style="color:red;">'),expand("",a,b,d),d.push("</span>")):isprimitive(e)?d.push(tiny(a)):isshort(a,!0,100)||0>=b?d.push(summary(a,100)):expand("",a,b,d),c?void 0:d.join("")}function aselement(a,b){switch(typeof a){case"string":return"body"==a?document.body:document.querySelector?document.querySelector(a):$?$(a)[0]:null;case"undefined":return b;case"boolean":return a?b:null;default:return a}return null}function stickscroll(){var a=!1,b=aselement(autoscroll,null);return b&&(a=b.scrollHeight-b.scrollTop-10<=b.clientHeight),a?function(){b.scrollTop=b.scrollHeight-b.clientHeight}:function(){}}function flushqueue(){var a=aselement(logelement,null);if(a&&a.appendChild&&queue.length){initlogcss();var b=window.document.createElement("samp");b.innerHTML=queue.join(""),queue.length=0;for(var c=stickscroll();child=b.firstChild;)a.appendChild(child);c()}!retrying&&queue.length?retrying=setTimeout(function(){timer=null,flushqueue()},100):retrying&&!queue.length&&(clearTimeout(retrying),retrying=null)}function seehide(){$("#_testpanel").hide()}function seeshow(){$("#_testpanel").show()}function seevisible(){return $("#_testpanel").is(":visible")}function seeenter(a){$("#_testinput").val(a)}function seeclear(){addedpanel&&$("#_testlog").find("._log").not("#_testpaneltitle").remove()}function promptcaret(a){return'<samp class="_logcaret" style="color:'+a+';"></samp>'}function getSelectedText(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:void 0}function formattitle(a){return'<samp class="_log" id="_testpaneltitle" style="font-weight:bold;">'+a+"</samp>"}function readlocalstorage(){if(uselocalstorage){var a={height:panelheight,history:[]};try{var b=window.JSON.parse(window.localStorage[uselocalstorage]);if(b&&b.slice&&b.length)return a.history=b,a;$.extend(a,b)}catch(c){}return a}}function updatelocalstorage(a){if(uselocalstorage){var b=readlocalstorage(),c=!1;"history"in a&&a.history.length&&(!b.history.length||b.history[b.history.length-1]!==a.history[a.history.length-1])&&(b.history.push(a.history[a.history.length-1]),c=!0),"height"in a&&a.height!==b.height&&(b.height=a.height,c=!0),c&&(window.localStorage[uselocalstorage]=window.JSON.stringify(b))}}function wheight(){return window.innerHeight||$(window).height()}function tryinitpanel(){if(addedpanel)paneltitle&&($("#_testpaneltitle").length?$("#_testpaneltitle").html(paneltitle):$("#_testlog").prepend(formattitle(paneltitle))),$("#_testpanel").show();else if(!window.document.getElementById("_testlog")&&window.document.body){initlogcss();var a=readlocalstorage(),b=paneltitle?formattitle(paneltitle):"";a.height>wheight()-50&&(a.height=Math.min(wheight(),Math.max(10,wheight()-50))),$("body").prepend('<samp id="_testpanel" style="overflow:hidden;z-index:99;position:fixed;bottom:0;left:0;width:100%;height:'+a.height+'px;background:rgba(240,240,240,0.8);font:10pt monospace;-webkit-transform:translateZ(0);"><samp id="_testdrag" style="cursor:row-resize;height:6px;width:100%;display:block;background:lightgray"></samp><samp id="_testscroll" style="overflow-y:scroll;overflow-x:hidden;display:block;width:100%;height:'+(a.height-6)+'px;"><samp id="_testlog" style="display:block">'+b+'</samp><samp class="_log" style="position:relative;display:block;">'+promptcaret("blue")+'<input id="_testinput" class="_log" style="width:100%;margin:0;border:0;font:inherit;background:rgba(255,255,255,0.8);"></samp></samp>'),addedpanel=!0,flushqueue();var c=0,d={};$("#_testinput").on("keydown",function(b){if(13==b.which){var e=$(this).val();if($(this).val(""),!e.trim().length||a.history.length&&a.history[a.history.length-1]===e||(a.history.push(e),updatelocalstorage({history:[e]})),d={},c=0,loghtml('<samp class="_log" style="margin-left:-1em;">'+promptcaret("lightgray")+htmlescape(e)+"</samp>"),$(this).select(),e.trim().length&&":"==e.trim()[0]){var f=e.trim().substring(1).trim();if(!f||scopes.hasOwnProperty(f)){currentscope=f;var g=f?"scope "+f:"default scope";loghtml('<span style="color:blue">switched to '+g+"</span>")}else loghtml('<span style="color:red">no scope '+f+"</span>");return}var h=!1;try{var i;try{i=seeeval(currentscope,e)}finally{if(consolehook&&consolehook(e,i))h=!0;else{for(var j=abbreviate.length-1;j>=0&&i!==abbreviate[j];--j);0>j&&loghtml(repr(i))}}}catch(b){h||see(b)}}else if(38==b.which||40==b.which){d[c]=$(this).val(),c+=38==b.which?1:-1,c=Math.max(0,Math.min(a.history.length,c));var k=d[c]||a.history[a.history.length-c];"undefined"==typeof k&&(k=""),$(this).val(k),this.selectionStart=this.selectionEnd=k.length,b.preventDefault()}}),$("#_testdrag").on("mousedown",function(b){var c,d=this,e=$("#_testpanel").height()+b.pageY,f=$("#_testdrag").height(),g=b.which;return d.setCapture&&d.setCapture(!0),c=function(b){if("blur"!=b.type&&b.which==g){var d=wheight(),h=Math.max(f,Math.min(d,e-b.pageY)),i=stickscroll();$("#_testpanel").height(h),$("#_testscroll").height(h-f),i()}("mouseup"==b.type||"blur"==b.type||"mousemove"==b.type&&b.which!=g)&&($(window).off("mousemove mouseup blur",c),document.releaseCapture&&document.releaseCapture(),$("#_testpanel").height()!=a.height&&(a.height=$("#_testpanel").height(),updatelocalstorage({height:a.height})))},$(window).on("mousemove mouseup blur",c),!1}),$("#_testpanel").on("mouseup",function(){if(!getSelectedText()){var a=$("#_testscroll").scrollTop();$("#_testinput").focus(),$("#_testscroll").scrollTop(a)}})}inittesttimer&&addedpanel?clearTimeout(inittesttimer):addedpanel||inittesttimer||(inittesttimer=setTimeout(tryinitpanel,100))}var undefined=void 0,__hasProp={}.hasOwnProperty,rootjQuery=jQuery(function(){}),Pencil,Turtle;if(!$.cssHooks)throw"jQuery 1.4.3+ is needed for jQuery-turtle to work";var transform=styleSupport("transform"),transformOrigin=styleSupport("transformOrigin");if(transform&&hasGetBoundingClientRect()){var drawing={attached:!1,surface:null,field:null,ctx:null,canvas:null,timer:null,subpixel:1},XY=["X","Y"];Pencil=function(a){function b(a,b){this.constructor=jQuery,this.constructor.prototype=Object.getPrototypeOf(this),"function"!=typeof a&&jQuery.fn.init.call(this,a,b,rootjQuery)}return __extends(b,a),b.prototype.pushStack=function(){var a,b,c;for(b=jQuery.fn.pushStack.apply(this,arguments),a=b.length,c=a===this.length;c&&a--;)c=c&&this[a]===b[a];return c?this:b},b}(jQuery.fn.init),Turtle=function(a){function b(a,c){b.__super__.constructor.call(this,hatchone(a,c))}return __extends(b,a),b}(Pencil),$.extend(!0,$,{cssHooks:{turtlePenStyle:makePenStyleHook(),turtlePenDown:makePenDownHook(),turtleSpeed:makeTurtleSpeedHook(),turtleEasing:makeTurtleEasingHook(),turtleForward:makeTurtleForwardHook(),turtleTurningRadius:makeTurningRadiusHook(),turtlePosition:makeTurtleXYHook("turtlePosition","tx","ty",!0),turtlePositionX:makeTurtleHook("tx",identity,"px",!0),turtlePositionY:makeTurtleHook("ty",identity,"px",!0),turtleRotation:makeTurtleHook("rot",maybeArcRotation,"deg",!0),turtleScale:makeTurtleXYHook("turtleScale","sx","sy",!1),turtleScaleX:makeTurtleHook("sx",identity,"",!1),turtleScaleY:makeTurtleHook("sy",identity,"",!1),turtleTwist:makeTurtleHook("twi",normalizeRotation,"deg",!1),turtleHull:makeHullHook()},cssNumber:{turtleRotation:!0,turtleSpeed:!0,turtleScale:!0,turtleScaleX:!0,turtleScaleY:!0,turtleTwist:!0},support:{turtle:!0}}),$.extend(!0,$.fx,{step:{turtlePosition:makePairStep("turtlePosition",!0),turtleRotation:makeRotationStep("turtleRotation"),turtleScale:makePairStep("turtleScale",!1),turtleTwist:makeRotationStep("turtleTwist")},speeds:{turtle:0}}),globalhelp.helptext=[];var turtlefn={rt:wraphelp(["<u>rt(degrees)</u> Right turn. Pivots clockwise by some degrees: <mark>rt 90</mark>","<u>rt(degrees, radius)</u> Right arc. Pivots with a turning radius: <mark>rt 90, 50</mark>"],function(a,b){return(a===undefined||null===a)&&(a=90),b===undefined||null===b?this.plan(function(b,c){this.animate({turtleRotation:"+="+cssNum(a||0)+"deg"},animTime(c),animEasing(c))}):this.plan(function(c,d){var e=this.css("turtleTurningRadius");this.css({turtleTurningRadius:0>a?-b:b}),this.animate({turtleRotation:"+="+cssNum(a)+"deg"},animTime(d),animEasing(d)),this.plan(function(){this.css({turtleTurningRadius:e})})})}),lt:wraphelp(["<u>lt(degrees)</u> Left turn. Pivots counterclockwise by some degrees: <mark>lt 90</mark>","<u>lt(degrees, radius)</u> Left arc. Pivots with a turning radius: <mark>lt 90, 50</mark>"],function(a,b){return(a===undefined||null===a)&&(a=90),b===undefined||null===b?this.plan(function(b,c){this.animate({turtleRotation:"-="+cssNum(a||0)+"deg"},animTime(c),animEasing(c))}):this.plan(function(c,d){var e=this.css("turtleTurningRadius");this.css({turtleTurningRadius:0>a?-b:b}),this.animate({turtleRotation:"-="+cssNum(a)+"deg"},animTime(d),animEasing(d)),this.plan(function(){this.css({turtleTurningRadius:e})
})})}),fd:wraphelp(["<u>fd(pixels)</u> Forward. Moves ahead by some pixels: <mark>fd 100</mark>"],function(a){function b(){fixOriginIfWatching(c),doQuickMove(c,a,0),e&&$.dequeue(c)}(a===undefined||null===a)&&(a=100);var c,d,e,f;return 1!=this.length||0!==(f=animTime(c=this[0]))&&0!==$.fx.speeds[f]?this.plan(function(b,c){fixOriginIfWatching(c),this.animate({turtleForward:"+="+cssNum(a||0)+"px"},animTime(c),animEasing(c))}):(d=$.queue(c),e=d.length>0,e?(b.finish=b,d.push(b)):b(),this)}),bk:wraphelp(["<u>bk(pixels)</u> Back. Moves in reverse by some pixels: <mark>bk 100</mark>"],function(a){return(a===undefined||null===a)&&(a=100),this.fd(-a)}),slide:wraphelp(["<u>slide(x, y)</u> Slides right x and forward y pixels without turning: <mark>slide 50, 100</mark>"],function(a,b){return $.isArray(a)&&(b=a[1],a=a[0]),b||(b=0),a||(a=0),this.plan(function(c,d){this.animate({turtlePosition:displacedPosition(d,b,a)},animTime(d),animEasing(d))})}),moveto:wraphelp(["<u>moveto(x, y)</u> Move to graphing coordinates (see <u>getxy</u>): <mark>moveto 50, 100</mark>","<u>moveto(obj)</u> Move to page coordinates or an object on the page (see <u>pagexy</u>): <mark>moveto lastmousemove</mark>"],function(a,b){var c=a,d=0,e=0,f=null;return $.isNumeric(c)&&$.isNumeric(b)?(d=parseFloat(c),e=parseFloat(b),c=null,f=null):$.isArray(c)?(d=c[0],e=c[1],c=null,f=b):$.isNumeric(b)&&(f=b),this.plan(function(a,b){var g=c;if(null===g&&(g=$(homeContainer(b)).pagexy()),g&&!isPageCoordinate(g))try{g=$(g).pagexy()}catch(h){return}return g&&isPageCoordinate(g)?$.isWindow(b)?(scrollWindowToDocumentPosition(g,f),void 0):(9!==b.nodeType&&this.animate({turtlePosition:computeTargetAsTurtlePosition(b,g,f,d,e)},animTime(b),animEasing(b)),void 0):void 0})}),jump:wraphelp(["<u>jump(x, y)</u> Move without drawing (compare to <u>slide</u>): <mark>jump 0, 50</mark>"],function(){var a=arguments;return this.plan(function(){var b=this.css("turtlePenDown");this.css({turtlePenDown:"up"}),this.slide.apply(this,a),this.plan(function(){this.css({turtlePenDown:b})})})}),jumpto:wraphelp(["<u>jumpto(x, y)</u> Move without drawing (compare to <u>moveto</u>): <mark>jumpto 50, 100</mark>"],function(){var a=arguments;return this.plan(function(){var b=this.css("turtlePenDown");this.css({turtlePenDown:"up"}),this.moveto.apply(this,a),this.plan(function(){this.css({turtlePenDown:b})})})}),turnto:wraphelp(["<u>turnto(degrees)</u> Turn to a direction. North is 0, East is 90: <mark>turnto 270</turnto>","<u>turnto(x, y)</u> Turn to graphing coordinates: <mark>turnto 50, 100</mark>","<u>turnto(obj)</u> Turn to page coordinates or an object on the page: <mark>turnto lastmousemove</mark>"],function(a,b){return $.isNumeric(b)&&$.isNumeric(a)&&(a=[a,b],b=null),this.plan(function(c,d){if(!$.isWindow(d)&&9!==d.nodeType){var e,f,g=null,h=null,i=null;if($.isNumeric(a))f=convertToRadians(a),fixOriginIfWatching(d),h=getCenterInPageCoordinates(d),h.pageX+=1024*Math.sin(f),h.pageY-=1024*Math.cos(f),g=b;else if($.isArray(a))i=computePositionAsLocalOffset(d),i[0]-=a[0],i[1]-=a[1];else if(isPageCoordinate(a))h=a;else try{h=$(a).pagexy()}catch(j){return}i||(i=computePositionAsLocalOffset(d,h)),dir=radiansToDegrees(Math.atan2(-i[0],-i[1])),e=readTurtleTransform(d,!0),null!==g&&(f=convertToRadians(e.rot),dir=limitRotation(e.rot,dir,null===g?360:g)),dir=e.rot+normalizeRotation(dir-e.rot),this.animate({turtleRotation:dir},animTime(d),animEasing(d))}})}),home:wraphelp(["<u>home()</u> Goes home. Jumps to the center without drawing: <mark>do home</mark>"],function(a){return this.plan(function(b,c){var d=this.css("turtlePenDown"),e=this.css("turtleTurningRadius"),f=a||homeContainer(c);this.css({turtlePenDown:"up",turtleTurningRadius:0}),this.css({turtlePosition:computeTargetAsTurtlePosition(c,$(f).pagexy(),null,0,0),turtleRotation:0}),this.css({turtlePenDown:d,turtleTurningRadius:e})})}),pen:wraphelp(["<u>pen(color, size)</u> Selects a pen. Chooses a color and/or size for the pen: <mark>pen red</mark>; <mark>pen 0</mark>; <mark>pen erase</mark>; <mark>pen blue, 5</mark>.","<u>pen(on-or-off)</u> Turns the pen on or off: <mark>pen off</mark>; <mark>pen on</mark>."],function(a,b){if(a&&"function"==typeof a&&a.name&&(a=a.name),"number"==typeof a&&"number"!=typeof b){var c=a;a=b,b=c}return 0===b&&(a="none"),a===undefined?a="black":null===a&&(a="none"),this.plan(function(){a===!1||a===!0||"down"==a||"up"==a?this.css("turtlePenDown",a):(b!==undefined&&(a+=" lineWidth "+b),this.css("turtlePenStyle",a))})}),fill:wraphelp(["<u>fill(color)</u> Fills a path traced using <u>pen path</u>: <mark>pen path; rt 100, 90; fill blue</mark>"],function(a){a||(a="black");var b=parsePenStyle(a,"fillStyle");return this.plan(function(a,c){endAndFillPenPath(c,b)})}),dot:wraphelp(["<u>dot(color, diameter)</u> Draws a dot. Color and diameter are optional: <mark>dot blue</mark>"],function(a,b){if($.isNumeric(a)){var c=a;a=b,b=c}b===undefined&&(b=8.8),a||(a="black");var d=parsePenStyle(a,"fillStyle");return this.plan(function(a,c){var e=this.pagexy(),f=readTurtleTransform(c,!0),g=d.eraseMode?2:0;fillDot(e,b*f.sx+g,d),watchImageToFixOriginOnLoad(c)})}),pause:wraphelp(["<u>pause(seconds)</u> Pauses some seconds before proceeding. <mark>fd 100; pause 2.5; bk 100</mark>"],function(a){return this.delay(1e3*a)}),st:wraphelp(["<u>st()</u> Show turtle. The reverse of <u>ht()</u>. <mark>do st</mark>"],function(){return this.plan(function(){this.show()})}),ht:wraphelp(["<u>ht()</u> Hide turtle. The turtle can be shown again with <u>st()</u>. <mark>do ht</mark>"],function(){return this.plan(function(){this.hide()})}),pu:function(){return this.pen(!1)},pd:function(){return this.pen(!0)},pe:function(){return this.pen("erase")},pf:function(){return this.pen("path")},play:wraphelp(['<u>play(notes)</u> Play notes. Notes are specified in <a href="http://abcnotation.com/" target="_blank">ABC notation</a>.  <mark>play "de[dBFA]2[cGEC]4"</mark>'],function(){var a=arguments;return this.queue(function(){playABC(this,a)})}),speed:wraphelp(["<u>speed(persec)</u> Set one turtle's speed in moves per second: <mark>turtle.speed 60</mark>"],function(a){return this.plan(function(){this.css("turtleSpeed",a)})}),wear:wraphelp(["<u>wear(color)</u> Sets the turtle shell color: <mark>wear turquoise</mark>","<u>wear(url)</u> Sets the turtle image url: <mark>wear 'http://bit.ly/1bgrQ0p'</mark>"],function(a){var b=nameToImg(a);return b?this.plan(function(a,c){this.css({backgroundImage:"none"}),watchImageToFixOriginOnLoad(c,!0),applyImg(this,b),queueWaitForImageLoad(this),fixOriginIfWatching(c)}):this}),label:wraphelp(["<u>label(text)</u> Labels the current position with HTML: <mark>label 'remember'</mark>"],function(a,b){return this.plan(function(){var c=output(a,"label").css({position:"absolute",display:"table",top:0,left:0}).addClass("turtle").appendTo(getTurtleField());c.css({turtlePosition:computeTargetAsTurtlePosition(c.get(0),this.pagexy(),null,0,0),turtleRotation:this.css("turtleRotation"),turtleScale:this.css("turtleScale")}),$.isFunction(b)&&c.plan(b)})}),reload:function(){return this.plan(function(a,b){if($.isWindow(b)||9===b.nodeType)return window.location.reload(),void 0;if(b.src){var c=b.src;b.src="",b.src=c}})},hatch:function(a,b){if(this.length){b!==undefined||$.isNumeric(a)||(b=a,a=1);var c=this[0],d=null;if($.isWindow(c)||9===c.nodeType?c=getTurtleField():/^(?:br|img|input|hr)$/i.test(c.tagName)&&(c=c.parentElement,d=this[0]),1===a)return hatchone("function"==typeof b?b(0):b,c,d);for(var e=0,f=[];a>e;++e)f.push(hatchone("function"==typeof b?b(e):b,c,d)[0]);return $(f)}},pagexy:wraphelp(["<u>pagexy()</u> Page coordinates {pageX:, pageY}, top-left based: <mark>c = pagexy(); fd 500; moveto c</mark>"],function(){return this.length?(fixOriginIfWatching(this[0]),getCenterInPageCoordinates(this[0])):void 0}),getxy:wraphelp(["<u>getxy()</u> Graphing coordinates [x, y], center-based: <mark>v = getxy(); slide -v[0], -v[1]</mark>"],function(){return this.length?computePositionAsLocalOffset(this[0]):void 0}),direction:wraphelp(["<u>direction()</u> Current turtle direction. North is 0; East is 90: <mark>direction()</mark>","<u>direction(obj)</u> <u>direction(x, y)</u> Returns the direction from the turtle towards an object or coordinate. Also see <u>turnto</u>: <mark>direction lastclick</mark>"],function(a,b){if(this.length){var c,d=this[0],e=a;if(e!==undefined){if(c=$(d).pagexy(),$.isNumeric(b)&&$.isNumeric(a)&&(e=[a,b]),$.isArray(e)&&(e=convertLocalXyToPageCoordinates(d,[e])[0]),!isPageCoordinate(e))try{e=$(e).pagexy()}catch(f){}return e?radiansToDegrees(Math.atan2(e.pageX-c.pageX,c.pageY-e.pageY)):0/0}return $.isWindow(d)||9===d.nodeType?0:getDirectionOnPage(d)}}),distance:wraphelp(["<u>distance(obj)</u> Returns the distance from the turtle to another object: <mark>distance lastclick</mark>","<u>distance(x, y)</u> Returns the distance from the turtle to graphing coorindates: <mark>distance(100, 0)</mark>"],function(a,b){if(this.length){var c,d,e=this[0],f=$(e).pagexy();if($.isNumeric(b)&&$.isNumeric(a)&&(a=[a,b]),$.isArray(a)&&(a=convertLocalXyToPageCoordinates(e,[a])[0]),!isPageCoordinate(a))try{a=$(a).pagexy()}catch(g){}return a?(c=a.pageX-f.pageX,d=a.pageY-f.pageY,Math.sqrt(c*c+d*d)):0/0}}),mirror:function(a){if(a===undefined){var b=$.map(this.css("turtleScale").split(" "),parseFloat),c=b[0]*(b.length>1?b[1]:b[0]);return 0>c}return this.plan(function(b,c){var d=$.map($.css(c,"turtleScale").split(" "),parseFloat);1===d.length&&d.push(d[0]),d[0]*d[1]<0==!a&&(d[0]=-d[0],this.css("turtleScale",d.join(" ")))})},twist:wraphelp(["<u>twist(degrees)</u> Set the primary direction of the turtle. Allows use of images that face a different direction than 'up': <mark>twist(90)</mark>"],function(a){return a===undefined?parseFloat(this.css("turtleTwist")):this.plan(function(b,c){$.isWindow(c)||9===c.nodeType||this.css("turtleTwist",a)})}),scale:wraphelp(["<u>scale(factor)</u> Scales all motion up or down by a factor. To double all drawing: <mark>scale(2)</mark>"],function(a,b){return b===undefined&&(b=a),a&&b?this.plan(function(c,d){if(!$.isWindow(d)&&9!==d.nodeType){var e=$.map($.css(d,"turtleScale").split(" "),parseFloat);1===e.length&&e.push(e[0]),e[0]*=a,e[1]*=b,this.css("turtleScale",$.map(e,cssNum).join(" "))}}):this}),cell:wraphelp(["<u>cell(r, c)</u> Row r and column c in a table. Use together with the table function: <mark>g = table 8, 8; g.cell(0,2).text 'hello'</mark>"],function(a,b){var c=this.find($.isNumeric(a)?"tr:nth-of-type("+(a+1)+")":"tr");return c.find($.isNumeric(b)?"td:nth-of-type("+(b+1)+")":"td")}),shown:wraphelp(["<u>shown()</u> True if turtle is shown, false if hidden: <mark>do ht; write shown()</mark>"],function(){return checkPredicate("shown",this),this.is(":visible")}),hidden:wraphelp(["<u>hidden()</u> True if turtle is hidden: <mark>do ht; write hidden()</mark>"],function(){return checkPredicate("hidden",this),!this.is(":visible")}),inside:wraphelp(["<u>inside(obj)</u> True if the turtle is encircled by obj: <mark>inside(window)</mark>"],function(a){if(checkPredicate("inside",this),!a)return!1;if("string"==typeof a&&(a=$(a)),a.jquery){if(!a.length||!a.is(":visible"))return!1;a=a[0]}for(var b,c=getPageGbcr(a),d=null,e=!1,f=!0,g=0;f&&g<this.length;++g){if(b=this[g],isDisjointGbcr(c,getPageGbcr(b)))return!1;d||(d=getCornersInPageCoordinates(a),e=polyMatchesGbcr(d,c)),e&&gbcrEncloses(c,getPageGbcr(b))||(f&=isPageCoordinate(b)?pointInConvexPolygon(b,d):doesConvexPolygonContain(d,getCornersInPageCoordinates(b)))}return!!f}),touches:wraphelp(["<u>touches(obj)</u> True if the turtle touches obj: <mark>touches(lastclick)</mark>","<u>touches(color)</u> True if the turtle touches a drawn color: <mark>touches red</mark>"],function(a,b){if(checkPredicate("touches",this),!this.is(":visible")||!this.length)return!1;if("color"==a||isCSSColor(a))return touchesPixel(this[0],"color"==a?null:a);if($.isNumeric(a)&&$.isNumeric(b)&&(a=[a,b]),$.isArray(a)&&2==a.length&&$.isNumeric(a[0])&&$.isNumeric(a[1])&&(a=convertLocalXyToPageCoordinates(this[0]||document.body,[a])[0]),!a)return!1;"string"==typeof a&&(a=$(a)),a.jquery||$.isArray(a)||(a=[a]);for(var c,d,e,f,g,h=!1,i=0;!h&&i<this.length;++i)for(e=this[i],f=getPageGbcr(e),g=null,c=0;!h&&c<a.length;++c)d=a[c],isDisjointGbcr(f,getPageGbcr(d))||(g||(g=getCornersInPageCoordinates(e)),h|=isPageCoordinate(d)?pointInConvexPolygon(d,g):doConvexPolygonsOverlap(g,getCornersInPageCoordinates(d)));return!!h}),within:function(a,b,c){return checkPredicate("within",this),withinOrNot(this,!0,a,b,c)},notwithin:function(a,b,c){return checkPredicate("notwithin",this),withinOrNot(this,!1,a,b,c)},nearest:function(a,b){var c,d,e,f=[],g=1/0;if(c=$.isNumeric(c)&&$.isNumeric(b)?[a,b]:a,$.isArray(c)&&(c=convertLocalXyToPageCoordinates(this[0]||document.body,[c])[0]),!isPageCoordinate(c))try{c=$(c).pagexy()}catch(h){c=null}for(e=0;e<this.length;e++)if(d=getPageGbcr(this[e]),!f.length||!isGbcrOutside(c,g,d)){fixOriginIfWatching(this[e]);var i=getCenterInPageCoordinates(this[e]),j=c.pageX-i.pageX,k=c.pageY-i.pageY,l=j*j+k*k;g>=l&&(g>l&&(g=l,f.length=0),f.push(this[e]))}return $(f)},done:wraphelp(["<u>done(fn)</u> Calls fn when animation is complete. Use with await: <mark>await done defer()</mark>"],function(a){var b=this;return this.promise().done(function(){if(b){var c=b;setTimeout(function(){c.promise().done(a)},0)}else a.apply(this,arguments)})}),plan:wraphelp(["<u>plan(fn)</u> Runs fn in the animation queue. For planning logic: <mark>write getxy(); fd 50; plan -> write getxy(); bk 50"],function(a,b,c){function d(d,e){var f=function(){var b=$.queue(this,a),c=[];"inprogress"===b[0]&&c.unshift(b.shift()),$.queue(d,a,c),g(),Array.prototype.push.apply($.queue(d,a),b),$.dequeue(d,a)},g=f.finish=c?function(){b.apply($(d),c)}:function(){b.call($(d),e,d)};$.queue(d,a,f)}$.isFunction(a)&&(c=b,b=a,a="fx");for(var e,f=this.length,g=0;f>g;++g)e=this[g],$.queue(e,a).length?d(e,g):c?b.apply($(e),c):b.call($(e),g,e);return this}),loadscript:wraphelp(["<u>loadscript(url, callback)</u> Loads Javascript or Coffeescript from the given URL, calling callback when done."],function(a,b){window.CoffeeScript&&/\.(?:coffee|cs)$/.test(a)?CoffeeScript.load(a,b):$.getScript(a,b)})};deprecation_shown={},deprecate(turtlefn,"direct","plan"),deprecate(turtlefn,"enclosedby","inside"),deprecate(turtlefn,"bearing","direction"),$.fn.extend(turtlefn);var turtleGIFUrl="data:image/gif;base64,R0lGODlhKAAwAPEDAAFsOACSRTCuSAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJZAADACwAAAAAKAAwAAACzpyPqcvtByJ49EWBRaw8gZxNXfeB4ciVpoZWqim2zhfUNivP9h7EOQPg9VqSDVDocwUyQ8UFlrS8mobIciXoRRtBULGLBWm/EudVHA6fxVFw+v2mQtbwundhteuz2yp9z/cVMAPIhvIC2EdYiKHIxdhIBIkzgrjnCDSJiacpCbnp1HkoWklKYqo0KUfhxjhWBmQ5ibFaJTsbGYob1nb2+kdbVLNS++Lz5JVEBguhEmQW/GOcSUl09sxZffj1qP2zCPo9QBMuXVMubSS+/lAAACH5BAVkAAMALAEAAQAmAC4AAALNnI9pwKAP4wKiCiZzpLY6DR5c54XhSH5mhnbqugnBTF8wS+fBez+AvuvhdDxEA3NqXYqDnyXIcpIqu5fU8zlqr9OntgPlPrtk2TQcKKvXMpWSDYcu0vB6NVE90uskOY6fsvIGxxQDaFEIMciW6HOIKPhYYrK41qhQqXaZkFm2aSRpQxn6KUIaKVnatHfoZ6TF2sokFopY1PmIZFrryRkrk0dLpef1usXDMKXb5CIk5TqwY+s8idncw1EoPYxdjanVLSqk4aTqPGOOvaxRAAA7",eventfn={click:1,mouseup:1,mousedown:1,mousemove:1,keydown:1,keypress:1,keyup:1},global_turtle=null,global_turtle_methods=[],attaching_ids=!1,dollar_turtle_methods={cs:wraphelp(["<u>cs()</u> Clear screen. Erases both graphics canvas and body text: <mark>do cs</mark>"],function(){planIfGlobal(function(){clearField()})}),cg:wraphelp(["<u>cg()</u> Clear graphics. Does not alter body text: <mark>do cg</mark>"],function(){planIfGlobal(function(){clearField("canvas turtles")})}),ct:wraphelp(["<u>ct()</u> Clear text. Does not alter graphics canvas: <mark>do ct</mark>"],function(){planIfGlobal(function(){clearField("text")})}),tick:wraphelp(["<u>tick(fps, fn)</u> Calls fn fps times per second until <u>tick</u> is called again: <mark>c = 10; tick 1, -> c and write(c--) or tick()</mark>"],function(a,b){planIfGlobal(function(){globaltick(a,b)})}),speed:wraphelp(["<u>speed(mps)</u> Sets default turtle speed in moves per second: <mark>speed Infinity</mark>"],function(a){planIfGlobal(function(){globaldefaultspeed(a)})}),play:wraphelp(['<u>play(notes)</u> Play notes. Notes are specified in <a href="http://abcnotation.com/" target="_blank">ABC notation</a>.  <mark>play "de[dBFA]2[cGEC]4"</mark>'],function(){if(global_turtle){var a=$(global_turtle);a.play.apply(a,arguments)}else playABC(null,arguments)}),done:wraphelp(["<u>done(fn)</u> Calls fn when animation is complete. Use with await: <mark>await done defer()</mark>"],function(a){var b=$(".turtle");return b.promise().done(function(){if(b){var c=b;setTimeout(function(){c.promise().done(a)},0)}else a.apply(this,arguments)})}),append:wraphelp(["<u>append(html)</u> Appends text to the document without a new line. <mark>append 'try this twice...'</mark>"],function(){$.fn.append.apply($("body"),arguments)}),write:wraphelp(["<u>write(html)</u> Writes a line of text. Arbitrary HTML may be written: <mark>write 'Hello, world!'</mark>"],function(){return output(Array.prototype.join.call(arguments," "),"div")}),read:wraphelp(["<u>read(fn)</u> Reads text or numeric input. Calls fn once: <mark>read (x) -> write x</mark>","<u>read(html, fn)</u> Prompts for input: <mark>read 'Your name?', (v) -> write 'Hello ' + v</mark>"],function(a,b){return input(a,b,0)}),readnum:wraphelp(["<u>readnum(html, fn)</u> Reads numeric input. Only numbers allowed: <mark>readnum 'Amount?', (v) -> write 'Tip: ' + (0.15 * v)</mark>"],function(a,b){return input(a,b,1)}),readstr:wraphelp(["<u>readstr(html, fn)</u> Reads text input. Never converts input to a number: <mark>readstr 'Enter code', (v) -> write v.length + ' long'</mark>"],function(a,b){return input(a,b,-1)}),random:wraphelp(["<u>random(n)</u> Random non-negative integer less than n: <mark>write random 10</mark>","<u>random(list)</u> Random member of the list: <mark>write random ['a', 'b', 'c']</mark>","<u>random('position')</u> Random page position: <mark>moveto random 'position'</mark>","<u>random('color')</u> Random color: <mark>pen random 'color'</mark>"],random),hatch:function(a,b){return $(document).hatch(a,b)},button:wraphelp(["<u>button(text, fn)</u> Writes a button. Calls fn whenever the button is clicked: <mark>button 'GO', -> fd 100</mark>"],button),table:wraphelp(["<u>table(m, n)</u> Writes m rows and c columns. Access cells using <u>cell</u>: <mark>g = table 8, 8; g.cell(2,3).text 'hello'</mark>","<u>table(array)</u> Writes tabular data. Each nested array is a row: <mark>table [[1,2,3],[4,5,6]]</mark>"],table),rgb:wraphelp(["<u>rgb(r,g,b)</u> Makes a color out of red, green, and blue parts. <mark>pen rgb(150,88,255)</mark>"],function(a,b,c){return componentColor("rgb",[Math.max(0,Math.min(255,Math.floor(a))),Math.max(0,Math.min(255,Math.floor(b))),Math.max(0,Math.min(255,Math.floor(c)))])}),rgba:wraphelp(["<u>rgba(r,g,b,a)</u> Makes a color out of red, green, blue, and alpha. <mark>pen rgba(150,88,255,0.5)</mark>"],function(b,c,d){return componentColor("rgba",[Math.max(0,Math.min(255,Math.floor(b))),Math.max(0,Math.min(255,Math.floor(c))),Math.max(0,Math.min(255,Math.floor(d))),a])}),hsl:wraphelp(["<u>hsl(h,s,l)</u> Makes a color out of hue, saturation, and lightness. <mark>pen hsl(120,0.65,0.75)</mark>"],function(a,b,c){return componentColor("hsl",[a,(100*b).toFixed(0)+"%",(100*c).toFixed()+"%"])}),hsla:wraphelp(["<u>hsla(h,s,l,a)</u> Makes a color out of hue, saturation, lightness, alpha. <mark>pen hsla(120,0.65,0.75,0.5)</mark>"],function(a,b,c,d){return componentColor("hsl",[a,(100*b).toFixed(0)+"%",(100*c).toFixed(0)+"%",d])}),click:wraphelp(["<u>click(fn)</u> Calls fn(event) whenever the mouse is clicked. <mark>click (e) -> moveto e; label 'clicked'</mark>"],function(a){$(window).click(a)}),mouseup:wraphelp(["<u>mouseup(fn)</u> Calls fn(event) whenever the mouse is released. <mark>mouseup (e) -> moveto e; label 'up'</mark>"],function(a){$(window).mouseup(a)}),mousedown:wraphelp(["<u>mousedown(fn)</u> Calls fn(event) whenever the mouse is pressed. <mark>mousedown (e) -> moveto e; label 'down'</mark>"],function(a){$(window).mousedown(a)}),mousemove:wraphelp(["<u>mousedown(fn)</u> Calls fn(event) whenever the mouse is moved. <mark>mousemove (e) -> moveto e</mark>"],function(a){$(window).mousemove(a)}),keydown:wraphelp(["<u>keydown(fn)</u> Calls fn(event) whenever a key is pushed down. <mark>keydown (e) -> write 'down ' + e.which</mark>"],function(a){$(window).keydown(a)}),keyup:wraphelp(["<u>keyup(fn)</u> Calls fn(event) whenever a key is released. <mark>keyup (e) -> write 'up ' + e.which</mark>"],function(a){$(window).keyup(a)}),keypress:wraphelp(["<u>keypress(fn)</u> Calls fn(event) whenever a letter is typed. <mark>keypress (e) -> write 'press ' + e.which</mark>"],function(a){$(window).keypress(a)}),send:wraphelp(["<u>send(name)</u> Sends a message to be received by recv. <mark>send 'go'; recv 'go', -> fd 100</mark>"],function(a){var b=arguments,c=Array.prototype.slice.call(b,1),d=sendRecvData.sent[a];d||(d=sendRecvData.sent[a]=[]),d.push(c),pollSendRecv(a)}),recv:wraphelp(["<u>recv(name, fn)</u> Calls fn once when a sent message is received. <mark>recv 'go', (-> fd 100); send 'go'</mark>"],function(a,b){var c=sendRecvData.waiting[a];c||(c=sendRecvData.waiting[a]=[]),c.push(b),pollSendRecv(a)}),abs:wraphelp(["<u>abs(x)</u> The absolute value of x. <mark>see abs -5</mark>"],Math.abs),acos:wraphelp(["<u>acos(degreees)</u> Trigonometric arccosine, in degrees. <mark>see acos 0.5</mark>"],function(a){return roundEpsilon(180*Math.acos(a)/Math.PI)}),asin:wraphelp(["<u>asin(degreees)</u> Trigonometric arcsine, in degrees. <mark>see asin 0.5</mark>"],function(a){return roundEpsilon(180*Math.asin(a)/Math.PI)}),atan:wraphelp(["<u>atan(degreees)</u> Trigonometric arctangent, in degrees. <mark>see atan 0.5</mark>"],function(a){return roundEpsilon(180*Math.atan(a)/Math.PI)}),atan2:wraphelp(["<u>atan2(degreees)</u> Trigonometric two-argument arctangent, in degrees. <mark>see atan -1, 0</mark>"],function(a,b){return roundEpsilon(180*Math.atan2(a,b)/Math.PI)}),cos:wraphelp(["<u>cos(degreees)</u> Trigonometric cosine, in degrees. <mark>see cos 45</mark>"],function(a){return roundEpsilon(Math.cos(a%360*Math.PI/180))}),sin:wraphelp(["<u>sin(degreees)</u> Trigonometric sine, in degrees. <mark>see sin 45</mark>"],function(a){return roundEpsilon(Math.sin(a%360*Math.PI/180))}),tan:wraphelp(["<u>tan(degreees)</u> Trigonometric tangent, in degrees. <mark>see tan 45</mark>"],function(a){return roundEpsilon(Math.tan(a%360*Math.PI/180))}),ceil:wraphelp(["<u>ceil(x)</u> Round up. <mark>see ceil 1.9</mark>"],Math.ceil),floor:wraphelp(["<u>floor(x)</u> Round down. <mark>see floor 1.9</mark>"],Math.floor),round:wraphelp(["<u>round(x)</u> Round to the nearest integer. <mark>see round 1.9</mark>"],Math.round),exp:wraphelp(["<u>exp(x)</u> Raise e to the power x. <mark>see exp 2</mark>"],Math.exp),ln:wraphelp(["<u>ln(x)</u> The natural logarithm of x. <mark>see ln 2</mark>"],Math.log),log10:wraphelp(["<u>log10(x)</u> The base 10 logarithm of x. <mark>see log10 0.01</mark>"],function(a){return roundEpsilon(Math.log(a)*Math.LOG10E)}),pow:wraphelp(["<u>pow(x, y)</u> Raise x to the power y. <mark>see pow 4, 1.5</mark>"],function(a,b){return roundEpsilon(Math.pow(a,b))}),sqrt:wraphelp(["<u>sqrt(x)</u> The square root of x. <mark>see sqrt 25</mark>"],Math.sqrt),max:wraphelp(["<u>max(x, y, ...)</u> The maximum of a set of values. <mark>see max -5, 2, 1</mark>"],Math.max),min:wraphelp(["<u>min(x, y, ...)</u> The minimum of a set of values. <mark>see min 2, -5, 1</mark>"],Math.min),Turtle:wraphelp(["<u>new Turtle(color)</u> Make a new turtle. <mark>t = new Turtle; t.fd 100</mark>"],Turtle),Pencil:Pencil,help:globalhelp},extrahelp={finish:{helptext:["<u>finish()</u> Finishes turtle animation. Does not pause for effect: <mark>do finish</mark>"]}},sendRecvData={sent:{},waiting:{},pollTimer:null};deprecate(dollar_turtle_methods,"defaultspeed","speed");var helpok={},colors=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];!function(){for(var a=["none","erase","path","up","down","color","position","normal","touch"],b=a.concat(colors),c=0;c<b.length;c++)dollar_turtle_methods.hasOwnProperty(b[c])||(dollar_turtle_methods[b[c]]=b[c]);dollar_turtle_methods.PI=Math.PI,dollar_turtle_methods.E=Math.E,extrahelp.colors={helptext:["Defined colors: "+colors.join(" ")]},extrahelp.see={helptext:["<u>see(v)</u> Shows the value of v in the test panel: <mark>see document</mark>"]},extrahelp.if=extrahelp.else=extrahelp.then={helptext:["<u>if</u> <u>then</u> <u>else</u> Tests a condition: <mark>if 1 <= (new Date).getDay() <= 5 then write 'Working hard!' else write 'Happy weekend!'</mark>"]},extrahelp.await=extrahelp.defer={helptext:['<u>await</u> <u>defer</u> Waits for results from an asynchronous event; from <a href="http://maxtaco.github.io/coffee-script/" target="_blank">Iced CoffeeScript</a>: <mark>await readnum defer n</mark>']}}(),$.turtle=function(a,b){var c=!1;arguments.length||(a="turtle"),1==arguments.length&&"object"==typeof a&&a&&!a.hasOwnProperty("length")&&(b=a,a="turtle"),b=b||{},clearGlobalTurtle(),"htmlscript"in b&&!b.htmlscript||$('script[type="text/html"]').each(function(){$(this).replaceWith($(this).html().replace(/^\x3c!\[CDATA\[\n?|\]\]\x3e$/g,""))}),!drawing.ctx&&"subpixel"in b&&(drawing.subpixel=parseInt(b.subpixel)),"events"in b&&!b.events||turtleevents(b.eventprefix),"see"in b&&!b.see||(exportsee(),c=!0,window.addEventListener?window.addEventListener("error",see):window.onerror=see),"functions"in b&&!b.functions||(window.printpage=window.print,window.print=null,$.extend(window,dollar_turtle_methods)),globaldefaultspeed("defaultspeed"in b?b.defaultspeed:1);try{getAudioTop()}catch(d){}var e=null,f=!1;if(a&&(e=$("#"+a),e.length||($("body").length||(document.write("<body>"),f=!0),e=new Turtle(a))),e&&!e.length&&(e=null),e&&1===e.length&&(!("global"in b)||b.global)){var g={css:1,fadeIn:1,fadeOut:1,fadeTo:1,fadeToggle:1,animate:1,stop:1,toggle:1,finish:1,promise:1,direct:1},h=$.extend({},turtlefn,g);global_turtle_methods.push.apply(global_turtle_methods,globalizeMethods(e,h)),global_turtle=e[0],$(document).on("DOMNodeRemoved.turtle",onDOMNodeRemoved)}if("ids"in b&&!b.ids||(turtleids(b.idprefix),e&&a&&(window[a]=e)),!("panel"in b)||b.panel){var i={title:"test panel (type help for help)",abbreviate:[undefined,helpok],consolehook:seehelphook};if(e&&i.abbreviate.push(e),b.title&&(i.title=b.title),b.panelheight&&(i.height=b.panelheight),see.init(i),f&&see.html('<span style="color:red">Turtle script should be inside body - wrote a &lt;body&gt;</span>'),c)return window.CoffeeScript?"see.init(eval(see.cs))":see.here}},$.extend($.turtle,dollar_turtle_methods);var colorCache={},entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},tickinterval=null,eventsaver=null,ABCtoken=/\s+|\[|\]|>+|<+|(?:(?:\^\^|\^|__|_|=|)[A-Ga-g](?:,+|'+|))|\d*\/\d+|\d+|\/+|[xzXZ]|./g,audioTop=null,pulljQueryVersion=null,seepkg="see",version="0.2",oldvalue=noteoldvalue(seepkg),linestyle="position:relative;display:block;font-family:monospace;font-size:16px;word-break:break-all;margin-bottom:3px;padding-left:1em;",logdepth=5,autoscroll=!1,logelement="body",panel=!1;try{panel=window.self!==window.top&&/^\/edit\//.test(window.top.window.location.pathname)}catch(e){}var see,paneltitle="",logconsole=null,uselocalstorage="_loghistory",panelheight=250,currentscope="",scopes={"":{e:window.eval,t:window},top:{e:window.eval,t:window}},coffeescript=window.CoffeeScript,seejs="(function(){return eval(arguments[0]);})",varpat="[_$a-zA-Z\xa0-\uffff][_$a-zA-Z0-9\xa0-\uffff]*",initialvardecl=new RegExp("^\\s*var\\s+(?:"+varpat+"\\s*,\\s*)*"+varpat+"\\s*;\\s*"),logcss="input._log:focus{outline:none;}samp._logcaret{position:absolute;left:0;font-size:120%;}samp._logcaret:before{content: '>'}label._log > span:first-of-type:hover{text-decoration:underline;}samp._log > label._log,samp_.log > span > label._log{display:inline-block;vertical-align:top;}label._log > span:first-of-type{margin-left:2em;text-indent:-1em;}label._log > ul{display:none;padding-left:14px;margin:0;}label._log > span:before{content:'';font-size:70%;font-style:normal;display:inline-block;width:0;text-align:center;}label._log > span:first-of-type:before{content:'\\0025B6';}label._log > ul > li{display:block;white-space:pre-line;margin-left:2em;text-indent:-1em}label._log > ul > li > samp{margin-left:-1em;text-indent:0;white-space:pre;}label._log > input[type=checkbox]:checked ~ span{margin-left:2em;text-indent:-1em;}label._log > input[type=checkbox]:checked ~ span:first-of-type:before{content:'\\0025BC';}label._log > input[type=checkbox]:checked ~ span:before{content:'';}label._log,label._log > input[type=checkbox]:checked ~ ul{display:block;}label._log > span:first-of-type,label._log > input[type=checkbox]:checked ~ span{display:inline-block;}label._log > input[type=checkbox],label._log > input[type=checkbox]:checked ~ span > span{display:none;}",addedcss=!1,cescapes={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\v","'":"\\'",'"':'\\"',"\\":"\\\\"},retrying=null,queue=[];see=function(){logconsole&&"function"==typeof logconsole.log&&logconsole.log.apply(window.console,arguments);var a=Array.prototype.slice.call(arguments);for(queue.push('<samp class="_log">');a.length;){var b=a.shift();"String"==vtype(b)?queue.push(htmlescape(b)):queue.push(repr(b,logdepth,queue)),a.length&&queue.push(" ")}queue.push("</samp>"),flushqueue()};var addedpanel=!1,inittesttimer=null,abbreviate=[{}.undefined],consolehook=null;eval("scope('jquery-turtle', "+seejs+", this)")}}(jQuery);